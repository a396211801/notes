(function(){function t(t){function e(e,n,r,i,s,o){for(;s>=0&&o>s;s+=t){var a=i?i[s]:s;r=n(r,e[a],a,e)}return r}return function(n,r,i,s){r=_(r,s,4);var o=!T(n)&&m.keys(n),a=(o||n).length,u=t>0?0:a-1;return arguments.length<3&&(i=n[o?o[u]:u],u+=t),e(n,r,i,o,u,a)}}function e(t){return function(e,n,r){n=y(n,r);for(var i=null!=e&&e.length,s=t>0?0:i-1;s>=0&&i>s;s+=t)if(n(e[s],s,e))return s;return-1}}function n(t,e){var n=C.length,r=t.constructor,i=m.isFunction(r)&&r.prototype||o,s="constructor";for(m.has(t,s)&&!m.contains(e,s)&&e.push(s);n--;)s=C[n],s in t&&t[s]!==i[s]&&!m.contains(e,s)&&e.push(s)}var r=this,i=r._,s=Array.prototype,o=Object.prototype,a=Function.prototype,u=s.push,c=s.slice,l=o.toString,h=o.hasOwnProperty,f=Array.isArray,p=Object.keys,d=a.bind,v=Object.create,g=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):r._=m,m.VERSION="1.8.2";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,s){return t.call(e,n,r,i,s)}}return function(){return t.apply(e,arguments)}},y=function(t,e,n){return null==t?m.identity:m.isFunction(t)?_(t,e,n):m.isObject(t)?m.matcher(t):m.property(t)};m.iteratee=function(t,e){return y(t,e,1/0)};var b=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var s=arguments[i],o=t(s),a=o.length,u=0;a>u;u++){var c=o[u];e&&void 0!==n[c]||(n[c]=s[c])}return n}},x=function(t){if(!m.isObject(t))return{};if(v)return v(t);g.prototype=t;var e=new g;return g.prototype=null,e},S=Math.pow(2,53)-1,T=function(t){var e=null!=t&&t.length;return"number"==typeof e&&e>=0&&S>=e};m.each=m.forEach=function(t,e,n){e=_(e,n);var r,i;if(T(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var s=m.keys(t);for(r=0,i=s.length;i>r;r++)e(t[s[r]],s[r],t)}return t},m.map=m.collect=function(t,e,n){e=y(e,n);for(var r=!T(t)&&m.keys(t),i=(r||t).length,s=Array(i),o=0;i>o;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s},m.reduce=m.foldl=m.inject=t(1),m.reduceRight=m.foldr=t(-1),m.find=m.detect=function(t,e,n){var r;return r=T(t)?m.findIndex(t,e,n):m.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},m.filter=m.select=function(t,e,n){var r=[];return e=y(e,n),m.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},m.reject=function(t,e,n){return m.filter(t,m.negate(y(e)),n)},m.every=m.all=function(t,e,n){e=y(e,n);for(var r=!T(t)&&m.keys(t),i=(r||t).length,s=0;i>s;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0},m.some=m.any=function(t,e,n){e=y(e,n);for(var r=!T(t)&&m.keys(t),i=(r||t).length,s=0;i>s;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n){return T(t)||(t=m.values(t)),m.indexOf(t,e,"number"==typeof n&&n)>=0},m.invoke=function(t,e){var n=c.call(arguments,2),r=m.isFunction(e);return m.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var r,i,s=-1/0,o=-1/0;if(null==e&&null!=t){t=T(t)?t:m.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],r>s&&(s=r)}else e=y(e,n),m.each(t,function(t,n,r){i=e(t,n,r),(i>o||i===-1/0&&s===-1/0)&&(s=t,o=i)});return s},m.min=function(t,e,n){var r,i,s=1/0,o=1/0;if(null==e&&null!=t){t=T(t)?t:m.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],s>r&&(s=r)}else e=y(e,n),m.each(t,function(t,n,r){i=e(t,n,r),(o>i||1/0===i&&1/0===s)&&(s=t,o=i)});return s},m.shuffle=function(t){for(var e,n=T(t)?t:m.values(t),r=n.length,i=Array(r),s=0;r>s;s++)e=m.random(0,s),e!==s&&(i[s]=i[e]),i[e]=n[s];return i},m.sample=function(t,e,n){return null==e||n?(T(t)||(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,n){return e=y(e,n),m.pluck(m.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,n,r){var i={};return n=y(n,r),m.each(e,function(r,s){var o=n(r,s,e);t(i,r,o)}),i}};m.groupBy=E(function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=E(function(t,e,n){t[n]=e}),m.countBy=E(function(t,e,n){m.has(t,n)?t[n]++:t[n]=1}),m.toArray=function(t){return t?m.isArray(t)?c.call(t):T(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:T(t)?t.length:m.keys(t).length},m.partition=function(t,e,n){e=y(e,n);var r=[],i=[];return m.each(t,function(t,n,s){(e(t,n,s)?r:i).push(t)}),[r,i]},m.first=m.head=m.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var M=function(t,e,n,r){for(var i=[],s=0,o=r||0,a=t&&t.length;a>o;o++){var u=t[o];if(T(u)&&(m.isArray(u)||m.isArguments(u))){e||(u=M(u,e,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[s++]=u[c++]}else n||(i[s++]=u)}return i};m.flatten=function(t,e){return M(t,e,!1)},m.without=function(t){return m.difference(t,c.call(arguments,1))},m.uniq=m.unique=function(t,e,n,r){if(null==t)return[];m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=y(n,r));for(var i=[],s=[],o=0,a=t.length;a>o;o++){var u=t[o],c=n?n(u,o,t):u;e?(o&&s===c||i.push(u),s=c):n?m.contains(s,c)||(s.push(c),i.push(u)):m.contains(i,u)||i.push(u)}return i},m.union=function(){return m.uniq(M(arguments,!0,!0))},m.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,i=t.length;i>r;r++){var s=t[r];if(!m.contains(e,s)){for(var o=1;n>o&&m.contains(arguments[o],s);o++);o===n&&e.push(s)}}return e},m.difference=function(t){var e=M(arguments,!0,!0,1);return m.filter(t,function(t){return!m.contains(e,t)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(t){for(var e=t&&m.max(t,"length").length||0,n=Array(e),r=0;e>r;r++)n[r]=m.pluck(t,r);return n},m.object=function(t,e){for(var n={},r=0,i=t&&t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},m.indexOf=function(t,e,n){var r=0,i=t&&t.length;if("number"==typeof n)r=0>n?Math.max(0,i+n):n;else if(n&&i)return r=m.sortedIndex(t,e),t[r]===e?r:-1;if(e!==e)return m.findIndex(c.call(t,r),m.isNaN);for(;i>r;r++)if(t[r]===e)return r;return-1},m.lastIndexOf=function(t,e,n){var r=t?t.length:0;if("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1)),e!==e)return m.findLastIndex(c.call(t,0,r),m.isNaN);for(;--r>=0;)if(t[r]===e)return r;return-1},m.findIndex=e(1),m.findLastIndex=e(-1),m.sortedIndex=function(t,e,n,r){n=y(n,r,1);for(var i=n(e),s=0,o=t.length;o>s;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s},m.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;r>s;s++,t+=n)i[s]=t;return i};var w=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=x(t.prototype),o=t.apply(s,i);return m.isObject(o)?o:s};m.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return w(t,r,e,this,n.concat(c.call(arguments)))};return r},m.partial=function(t){var e=c.call(arguments,1),n=function(){for(var r=0,i=e.length,s=Array(i),o=0;i>o;o++)s[o]=e[o]===m?arguments[r++]:e[o];for(;r<arguments.length;)s.push(arguments[r++]);return w(t,n,this,this,s)};return n},m.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=m.bind(t[n],t);return t},m.memoize=function(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return m.has(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n},m.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var r,i,s,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:m.now(),o=null,s=t.apply(r,i),o||(r=i=null)};return function(){var c=m.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,0>=l||l>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(u,l)),s}},m.debounce=function(t,e,n){var r,i,s,o,a,u=function(){var c=m.now()-o;e>c&&c>=0?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=m.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(s,i),s=i=null),a}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},m.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},m.once=m.partial(m.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(t){if(!m.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)m.has(t,r)&&e.push(r);return O&&n(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var r in t)e.push(r);return O&&n(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},m.mapObject=function(t,e,n){e=y(e,n);for(var r,i=m.keys(t),s=i.length,o={},a=0;s>a;a++)r=i[a],o[r]=e(t[r],r,t);return o},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()},m.extend=b(m.allKeys),m.extendOwn=m.assign=b(m.keys),m.findKey=function(t,e,n){e=y(e,n);for(var r,i=m.keys(t),s=0,o=i.length;o>s;s++)if(r=i[s],e(t[r],r,t))return r},m.pick=function(t,e,n){var r,i,s={},o=t;if(null==o)return s;m.isFunction(e)?(i=m.allKeys(o),r=_(e,n)):(i=M(arguments,!1,!1,1),r=function(t,e,n){return e in n},o=Object(o));for(var a=0,u=i.length;u>a;a++){var c=i[a],l=o[c];r(l,c,o)&&(s[c]=l)}return s},m.omit=function(t,e,n){if(m.isFunction(e))e=m.negate(e);else{var r=m.map(M(arguments,!1,!1,1),String);e=function(t,e){return!m.contains(r,e)}}return m.pick(t,e,n)},m.defaults=b(m.allKeys,!0),m.create=function(t,e){var n=x(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),s=0;r>s;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0};var U=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=l.call(t);if(i!==l.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var s="[object Array]"===i;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!U(t[u],e[u],n,r))return!1}else{var c,h=m.keys(t);if(u=h.length,m.keys(e).length!==u)return!1;for(;u--;)if(c=h[u],!m.has(e,c)||!U(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};m.isEqual=function(t,e){return U(t,e)},m.isEmpty=function(t){return null==t?!0:T(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=f||function(t){return"[object Array]"===l.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){m["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&h.call(t,e)},m.noConflict=function(){return r._=i,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return function(e){return null==e?void 0:e[t]}},m.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=_(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=m.invert(k),N=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=N(k),m.unescape=N(I),m.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),m.isFunction(r)?r.call(t):r};var j=0;m.uniqueId=function(t){var e=++j+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+A[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(e,n,r,o,a){return s+=t.slice(i,a).replace($,R),i=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(a){throw a.source=s,a}var u=function(t){return o.call(this,t,m)},c=e.variable||"obj";return u.source="function("+c+"){\n"+s+"}",u},m.chain=function(t){var e=m(t);return e._chain=!0,e};var D=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),D(this,n.apply(m,t))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],D(this,n)}}),m.each(["concat","join","slice"],function(t){var e=s[t];m.prototype[t]=function(){return D(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this),!function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){var i=t.Backbone,s=[],o=s.slice;e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!c(this,"once",t,[e,r])||!e)return this;var i=this,s=n.once(function(){i.off(t,s),e.apply(this,arguments)});return s._callback=e,this.on(t,s,r)},off:function(t,e,r){if(!this._events||!c(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(var i=t?[t]:n.keys(this._events),s=0,o=i.length;o>s;s++){t=i[s];var a=this._events[t];if(a)if(e||r){for(var u=[],l=0,h=a.length;h>l;l++){var f=a[l];(e&&e!==f.callback&&e!==f.callback._callback||r&&r!==f.context)&&u.push(f)}u.length?this._events[t]=u:delete this._events[t]}else delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l(n,e),r&&l(r,arguments),this},listenTo:function(t,e,r){var i=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=n.uniqueId("l"));return i[s]=t,r||"object"!=typeof e||(r=this),t.on(e,r,this),this},listenToOnce:function(t,e,r){if("object"==typeof e){for(var i in e)this.listenToOnce(t,i,e[i]);return this}if(u.test(e)){for(var s=e.split(u),o=0,a=s.length;a>o;o++)this.listenToOnce(t,s[o],r);return this}if(!r)return this;var c=n.once(function(){this.stopListening(t,e,c),r.apply(this,arguments)});return c._callback=r,this.listenTo(t,e,c)},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var s=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var o in i)t=i[o],t.off(e,r,this),(s||n.isEmpty(t._events))&&delete this._listeningTo[o];return this}},u=/\s+/,c=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var s=n.split(u),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(r));return!1}return!0},l=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};a.bind=a.on,a.unbind=a.off,n.extend(e,a);var h=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return n.matches(t)(this.attributes)},set:function(t,e,r){var i,s,o,a,u,c,l,h;if(null==t)return this;if("object"==typeof t?(s=t,r=e):(s={})[t]=e,r||(r={}),!this._validate(s,r))return!1;o=r.unset,u=r.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)e=s[i],n.isEqual(h[i],e)||a.push(i),n.isEqual(l[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete h[i]:h[i]=e;if(!u){a.length&&(this._pending=r);for(var f=0,p=a.length;p>f;f++)this.trigger("change:"+a[f],this,h[a[f]],r)}if(c)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in t)n.isEqual(i[s],e=t[s])||((r||(r={}))[s]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},j(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,s,o,a=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},a,i)),void 0===r.parse&&(r.parse=!0);var u=this,c=r.success;return r.success=function(t){u.attributes=a;var e=u.parse(t,r);return r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!u.set(e,r)?!1:(c&&c(u,t,r),void u.trigger("sync",u,t,r))},j(this,r),s=this.isNew()?"create":r.patch?"patch":"update","patch"!==s||r.attrs||(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=a),o},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;j(this,t);var s=this.sync("delete",this,t);return t.wait||i(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit","chain","isEmpty"];n.each(f,function(t){n[t]&&(h.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)})});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},d={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(p.prototype,a,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,v))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});for(var i=0,s=t.length;s>i;i++){var o=t[i]=this.get(t[i]);if(o){var a=this.modelId(o.attributes);null!=a&&delete this._byId[a],delete this._byId[o.cid];var u=this.indexOf(o);this.models.splice(u,1),this.length--,e.silent||(e.index=u,o.trigger("remove",o,this,e)),this._removeReference(o,e)}}return r?t[0]:t},set:function(t,e){e=n.defaults({},e,d),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:t.slice();var i,s,o,a,u,c=e.at;null!=c&&(c=+c),0>c&&(c+=this.length+1);for(var l=this.comparator&&null==c&&e.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,f=[],p=[],v={},g=e.add,m=e.merge,_=e.remove,y=!l&&g&&_?[]:!1,b=!1,x=0,S=t.length;S>x;x++){if(o=t[x],a=this.get(o))_&&(v[a.cid]=!0),m&&o!==a&&(o=this._isModel(o)?o.attributes:o,e.parse&&(o=a.parse(o,e)),a.set(o,e),l&&!u&&a.hasChanged(h)&&(u=!0)),t[x]=a;else if(g){if(s=t[x]=this._prepareModel(o,e),!s)continue;f.push(s),this._addReference(s,e)}s=a||s,s&&(i=this.modelId(s.attributes),!y||!s.isNew()&&v[i]||(y.push(s),b=b||!this.models[x]||s.cid!==this.models[x].cid),v[i]=!0)}if(_){for(var x=0,S=this.length;S>x;x++)v[(s=this.models[x]).cid]||p.push(s);p.length&&this.remove(p,e)}if(f.length||b)if(l&&(u=!0),this.length+=f.length,null!=c)for(var x=0,S=f.length;S>x;x++)this.models.splice(c+x,0,f[x]);else{y&&(this.models.length=0);for(var T=y||f,x=0,S=T.length;S>x;x++)this.models.push(T[x])}if(u&&this.sort({silent:!0}),!e.silent){for(var E=null!=c?n.clone(e):e,x=0,S=f.length;S>x;x++)null!=c&&(E.index=c+x),(s=f[x]).trigger("add",s,this,E);(u||b)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e=e?n.clone(e):{};for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){var r=n.matches(t);return this[e?"find":"filter"](function(t){return r(t.attributes)})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_isModel:function(t){return t instanceof h},_addReference:function(t){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}this.trigger.apply(this,arguments)}}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];n.each(g,function(t){n[t]&&(p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),n[t].apply(n,e)})});var m=["groupBy","countBy","sortBy","indexBy"];n.each(m,function(t){n[t]&&(p.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)})});var _=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,b)),this._ensureElement(),this.initialize.apply(this,arguments)},y=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(y);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var s=x[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||N()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var a=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.apply(this,arguments)};var c=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,c,i),c};var x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,M=/\*\w+/g,w=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,a,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,function(n){var o=s._extractParameters(t,n);
s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(w,"\\$&").replace(T,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,U=/^\/+|\/+$/g,k=/#.*$/;O.started=!1,n.extend(O.prototype,a,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=decodeURI(this.location.pathname+this.getSearch()),e=this.root.slice(0,-1);return t.indexOf(e)||(t=t.slice(e.length)),"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(C,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(U,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!(this._hasHashChange||!this._wantsHashChange||this._wantsPushState&&this._hasPushState)){var r=document.createElement("iframe");r.src="javascript:0",r.style.display="none",r.tabIndex=-1;var i=document.body;this.iframe=i.insertBefore(r,i.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._hasPushState?s("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._hasPushState?t("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!O.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;(""===t||"?"===t.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+t;if(t=decodeURI(t.replace(k,"")),this.fragment!==t){if(this.fragment=t,this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe)&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new O;var I=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var s=function(){this.constructor=r};return s.prototype=i.prototype,r.prototype=new s,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};h.extend=p.extend=S.extend=_.extend=O.extend=I;var N=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),!function(t){var e=function(t,e){return t<<e|t>>>32-e},n=function(t,e){var n,r,i,s,o;return i=2147483648&t,s=2147483648&e,n=1073741824&t,r=1073741824&e,o=(1073741823&t)+(1073741823&e),n&r?2147483648^o^i^s:n|r?1073741824&o?3221225472^o^i^s:1073741824^o^i^s:o^i^s},r=function(t,e,n){return t&e|~t&n},i=function(t,e,n){return t&n|e&~n},s=function(t,e,n){return t^e^n},o=function(t,e,n){return e^(t|~n)},a=function(t,i,s,o,a,u,c){return t=n(t,n(n(r(i,s,o),a),c)),n(e(t,u),i)},u=function(t,r,s,o,a,u,c){return t=n(t,n(n(i(r,s,o),a),c)),n(e(t,u),r)},c=function(t,r,i,o,a,u,c){return t=n(t,n(n(s(r,i,o),a),c)),n(e(t,u),r)},l=function(t,r,i,s,a,u,c){return t=n(t,n(n(o(r,i,s),a),c)),n(e(t,u),r)},h=function(t){for(var e,n=t.length,r=n+8,i=(r-r%64)/64,s=16*(i+1),o=Array(s-1),a=0,u=0;n>u;)e=(u-u%4)/4,a=u%4*8,o[e]=o[e]|t.charCodeAt(u)<<a,u++;return e=(u-u%4)/4,a=u%4*8,o[e]=o[e]|128<<a,o[s-2]=n<<3,o[s-1]=n>>>29,o},f=function(t){var e,n,r="",i="";for(n=0;3>=n;n++)e=t>>>8*n&255,i="0"+e.toString(16),r+=i.substr(i.length-2,2);return r},p=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e+=String.fromCharCode(r):r>127&&2048>r?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e};t.extend(t.fn,{codemap:function(t){var e,r,i,s,o,d,v,g,m,_=Array(),y=7,b=12,x=17,S=22,T=5,E=9,M=14,w=20,O=4,C=11,U=16,k=23,I=6,N=10,j=15,q=21;for(t=p(t),_=h(t),d=1732584193,v=4023233417,g=2562383102,m=271733878,e=0;e<_.length;e+=16)r=d,i=v,s=g,o=m,d=a(d,v,g,m,_[e+0],y,3614090360),m=a(m,d,v,g,_[e+1],b,3905402710),g=a(g,m,d,v,_[e+2],x,606105819),v=a(v,g,m,d,_[e+3],S,3250441966),d=a(d,v,g,m,_[e+4],y,4118548399),m=a(m,d,v,g,_[e+5],b,1200080426),g=a(g,m,d,v,_[e+6],x,2821735955),v=a(v,g,m,d,_[e+7],S,4249261313),d=a(d,v,g,m,_[e+8],y,1770035416),m=a(m,d,v,g,_[e+9],b,2336552879),g=a(g,m,d,v,_[e+10],x,4294925233),v=a(v,g,m,d,_[e+11],S,2304563134),d=a(d,v,g,m,_[e+12],y,1804603682),m=a(m,d,v,g,_[e+13],b,4254626195),g=a(g,m,d,v,_[e+14],x,2792965006),v=a(v,g,m,d,_[e+15],S,1236535329),d=u(d,v,g,m,_[e+1],T,4129170786),m=u(m,d,v,g,_[e+6],E,3225465664),g=u(g,m,d,v,_[e+11],M,643717713),v=u(v,g,m,d,_[e+0],w,3921069994),d=u(d,v,g,m,_[e+5],T,3593408605),m=u(m,d,v,g,_[e+10],E,38016083),g=u(g,m,d,v,_[e+15],M,3634488961),v=u(v,g,m,d,_[e+4],w,3889429448),d=u(d,v,g,m,_[e+9],T,568446438),m=u(m,d,v,g,_[e+14],E,3275163606),g=u(g,m,d,v,_[e+3],M,4107603335),v=u(v,g,m,d,_[e+8],w,1163531501),d=u(d,v,g,m,_[e+13],T,2850285829),m=u(m,d,v,g,_[e+2],E,4243563512),g=u(g,m,d,v,_[e+7],M,1735328473),v=u(v,g,m,d,_[e+12],w,2368359562),d=c(d,v,g,m,_[e+5],O,4294588738),m=c(m,d,v,g,_[e+8],C,2272392833),g=c(g,m,d,v,_[e+11],U,1839030562),v=c(v,g,m,d,_[e+14],k,4259657740),d=c(d,v,g,m,_[e+1],O,2763975236),m=c(m,d,v,g,_[e+4],C,1272893353),g=c(g,m,d,v,_[e+7],U,4139469664),v=c(v,g,m,d,_[e+10],k,3200236656),d=c(d,v,g,m,_[e+13],O,681279174),m=c(m,d,v,g,_[e+0],C,3936430074),g=c(g,m,d,v,_[e+3],U,3572445317),v=c(v,g,m,d,_[e+6],k,76029189),d=c(d,v,g,m,_[e+9],O,3654602809),m=c(m,d,v,g,_[e+12],C,3873151461),g=c(g,m,d,v,_[e+15],U,530742520),v=c(v,g,m,d,_[e+2],k,3299628645),d=l(d,v,g,m,_[e+0],I,4096336452),m=l(m,d,v,g,_[e+7],N,1126891415),g=l(g,m,d,v,_[e+14],j,2878612391),v=l(v,g,m,d,_[e+5],q,4237533241),d=l(d,v,g,m,_[e+12],I,1700485571),m=l(m,d,v,g,_[e+3],N,2399980690),g=l(g,m,d,v,_[e+10],j,4293915773),v=l(v,g,m,d,_[e+1],q,2240044497),d=l(d,v,g,m,_[e+8],I,1873313359),m=l(m,d,v,g,_[e+15],N,4264355552),g=l(g,m,d,v,_[e+6],j,2734768916),v=l(v,g,m,d,_[e+13],q,1309151649),d=l(d,v,g,m,_[e+4],I,4149444226),m=l(m,d,v,g,_[e+11],N,3174756917),g=l(g,m,d,v,_[e+2],j,718787259),v=l(v,g,m,d,_[e+9],q,3951481745),d=n(d,r),v=n(v,i),g=n(g,s),m=n(m,o);var A=f(d)+f(v)+f(g)+f(m);return A.toLowerCase()}})}(Zepto),$&&$(document).delegate("[pattern='[0-9]*']","input",function(){var t=$(this),e=t.val();e=e.replace(/[０１２３４５６７８９]/g,function(t){return t.charCodeAt(0)-65296}),t.val(e.replace(/[^\d]/g,""))}),$.json2param=function(t){var e="";for(var n in t)(""!=t[n]||"0"==t[n].toString())&&(e+=n+"="+t[n]+"&");return e.substring(0,e.length-1)},$.param2json=function(t){if(t){var e=t.split("&"),n={};return _.each(e,function(t){t=t.split("="),n[t[0]]=decodeURIComponent(t[1]||"")}),n=JSON.parse(JSON.stringify(n))}return!1};var sendjrtttj=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&("jrtt"==CONST.UTM_SOURCE&&(_taq.push({convert_id:"51473880271",event_type:"form"}),_taq.push({convert_id:"52920889243",event_type:"form"}),"jrttnew"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59007584333",event_type:"form"}),"jrtt1"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"55652034861",event_type:"form"}),"jrtt2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"56833794249",event_type:"form"}),"xxl2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"55804587916",event_type:"form"}),"xxl2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"58277149567",event_type:"form"}),"xxl3"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59191755505",event_type:"form"}),"jrtt2ztc"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63488036960",event_type:"form"}),"jrtt2ztc2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63979576766",event_type:"form"}),"xxlztc"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63974466940",event_type:"form"}),"xxl"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"64989170502",event_type:"form"}),"xxl"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"64989419207",event_type:"form"}),"jrtt2z"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"66298348230",event_type:"form"})),"zbltt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59062341605",event_type:"form"}),"adtt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59087012694",event_type:"form"}),"prtt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59815884227",event_type:"form"}),"prttdmp"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"62065315412",event_type:"form"}),"rdtt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63541501053",event_type:"form"}),"ttfb"==CONST.UTM_SOURCE&&("dk1"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"58853662347",event_type:"form"}),"dk1"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"60846808891",event_type:"form"})),"dmp-2"==CONST.UTM_SOURCE&&"p2p"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63847274518",event_type:"form"}),"tt-4"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"64188051918",event_type:"form"}))},sendjrtttj_standard=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&"ttfb"==CONST.UTM_SOURCE&&("dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"58486398380",event_type:"form"}),"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"61048858563",event_type:"form"}))},sendBD=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&"prttdmp-2"==CONST.UTM_SOURCE&&"cs"==CONST.UTM_MEDIUM&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&_taq.push({convert_id:"63847274519",event_type:"form"})},sendBDInfor=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&"prttdmp-2"==CONST.UTM_SOURCE&&"cs"==CONST.UTM_MEDIUM&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&_taq.push({convert_id:"64188185413",event_type:"form"})},Event_Bus=_.extend({},Backbone.Events),Order_Flow_Util={precheck:function(){var t=$.cookie("r360tk").split("_");return t=t.length>0?t[0]:"",t=$.fn.codemap(t+"r360")}};$&&($.log=function(t){var e={rid:$.cookie("RONGID"),rf:document.referrer||"",host:encodeURIComponent(document.location.origin),city:$.cookie("cityDomain"),rtm:$.cookie("__rtm")||"",platform:$.os.iphone?"ios":$.os.android?"android":$.os.ipad?"ios":"webapp",url:encodeURIComponent(document.location.pathname+document.location.search+document.location.hash),channel:"daikuan_mobile",time_stamp:(new Date).getTime()},n=$.cookie("abclass");n&&(e.abclass=n.split("_").length>1?n.split("_")[1]:"");var r=$.cookie("__utmz");if(r&&2==r.split(".").length){var i=r.split(".")[1],s=i.split("|");_.each(s,function(t){var n=t.replace("utm","ga_"),r=n.split("=")[0],i=n.split("=")[1];e[r]=i})}t.page_name&&(t.page_name=encodeURIComponent("&page_name="+t.page_name)),t.rl&&(t.rl=t.rl),t.rn&&(t.rn=t.rn),t.ext&&(t.ext=encodeURIComponent("&"+$.json2param(t.ext))),e=_.extend(e,t);var o=new Image;o.src="https://g.rong360.com/u.gif?"+$.json2param(e)},$.elog=function(t){var e={rid:$.cookie("RONGID"),access_id:$.cookie("PHPSESSID"),page_name:"",city:$.cookie("cityDomain")||"q",event_name:"",params:"",rf:document.referer||"",time_stamp:(new Date).getTime(),events_ext:""};t.page_name&&(t.page_name=encodeURIComponent("&page_name="+t.page_name)),t.event_name&&(t.event_name=encodeURIComponent("&event_name="+t.event_name)),t.ext&&(t.ext=encodeURIComponent("&"+$.json2param(t.ext))),e=_.extend(e,t);var n=new Image;n.src="//g.rong360.com/e.gif?"+$.json2param(e)},$.json2param=function(t){var e="";for(var n in t)(""!=t[n]||"0"==t[n].toString())&&(e+=n+"="+t[n]+"&");return e.substring(0,e.length-1)});var require,define;!function(t){function e(t,e){if(!(t in a)){a[t]=!0;var n=document.createElement("script");if(e){var i=setTimeout(e,require.timeout);n.onerror=function(){clearTimeout(i),e()},n.onreadystatechange=function(){"complete"==this.readyState&&clearTimeout(i)}}return n.type="text/javascript",n.src=t,r.appendChild(n),n}}function n(t,n,r){var s=i[t]||(i[t]=[]);s.push(n);var o,a=u[t]||{},l=a.pkg;o=l?c[l].url:a.url||t,e(o,r&&function(){r(t)})}var r=document.getElementsByTagName("head")[0],i={},s={},o={},a={},u={},c={};define=function(t,e){s[t]=e;var n=i[t];if(n){for(var r=n.length-1;r>=0;--r)n[r]();delete i[t]}},require=function(t){t=require.alias(t);var e=o[t];if(e)return e.exports;var n=s[t];if(!n)throw Error("Cannot find module `"+t+"`");e=o[t]={exports:{}};var r="function"==typeof n?n.apply(e,[require,e.exports,e]):n;return r&&(e.exports=r),e.exports},require.async=function(e,r,i){function o(t){for(var e=t.length-1;e>=0;--e){var r=t[e];if(!(r in s||r in l)){l[r]=!0,h++,n(r,a,i);var c=u[r];c&&"deps"in c&&o(c.deps)}}}function a(){if(0==h--){var n,i,s=[];for(n=0,i=e.length;i>n;++n)s[n]=require(e[n]);r&&r.apply(t,s)}}"string"==typeof e&&(e=[e]);for(var c=e.length-1;c>=0;--c)e[c]=require.alias(e[c]);var l={},h=0;o(e),a()},require.resourceMap=function(t){var e,n;n=t.res;for(e in n)n.hasOwnProperty(e)&&(u[e]=n[e]);n=t.pkg;for(e in n)n.hasOwnProperty(e)&&(c[e]=n[e])},require.loadJs=function(t){e(t)},require.loadCss=function(t){if(t.content){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t.content:e.innerHTML=t.content,r.appendChild(e)}else if(t.url){var n=document.createElement("link");n.href=t.url,n.rel="stylesheet",n.type="text/css",r.appendChild(n)}},require.alias=function(t){return t},require.timeout=5e3,define.amd={jQuery:!0,version:"1.0.0"}}(this);
;$&&($.log=function(e){var n={rid:$.cookie("RONGID"),rf:document.referrer||"",host:encodeURIComponent(document.location.origin),city:$.cookie("cityDomain"),rtm:$.cookie("__rtm")||"",platform:$.os.iphone?"ios":$.os.android?"android":$.os.ipad?"ios":"webapp",url:encodeURIComponent(document.location.pathname+document.location.search+document.location.hash),channel:"daikuan_mobile",time_stamp:(new Date).getTime()},o=$.cookie("abclass");o&&(n.abclass=o.split("_").length>1?o.split("_")[1]:"");var a=$.cookie("__utmz");if(a&&2==a.split(".").length){var t=a.split(".")[1],i=t.split("|");_.each(i,function(e){var o=e.replace("utm","ga_"),a=o.split("=")[0],t=o.split("=")[1];n[a]=t})}e.page_name&&(e.page_name=encodeURIComponent("&page_name="+e.page_name)),e.rl&&(e.rl=e.rl),e.rn&&(e.rn=e.rn),e.ext&&(e.ext=encodeURIComponent("&"+$.json2param(e.ext))),n=_.extend(n,e);var m=new Image;m.src="https://g.rong360.com/u.gif?"+$.json2param(n)},$.elog=function(e){var n={rid:$.cookie("RONGID"),access_id:$.cookie("PHPSESSID"),page_name:"",city:$.cookie("cityDomain")||"q",event_name:"",params:"",rf:document.referer||"",time_stamp:(new Date).getTime(),events_ext:""};e.page_name&&(e.page_name=encodeURIComponent("&page_name="+e.page_name)),e.event_name&&(e.event_name=encodeURIComponent("&event_name="+e.event_name)),e.ext&&(e.ext=encodeURIComponent("&"+$.json2param(e.ext))),n=_.extend(n,e);var o=new Image;o.src="//g.rong360.com/e.gif?"+$.json2param(n)},$.json2param=function(e){var n="";for(var o in e)(""!=e[o]||"0"==e[o].toString())&&(n+=o+"="+e[o]+"&");return n.substring(0,n.length-1)});
;if(function(e){var t=e.sdk_url,r=e.name,a=window,n=document,s="script",i=null,o=null;a.sensorsDataAnalytic201505=r,a[r]=a[r]||function(e){return function(){(a[r]._q=a[r]._q||[]).push([e,arguments])}};for(var c=["track","quick","register","registerPage","registerOnce","registerSession","registerSessionOnce","trackSignup","trackAbtest","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout"],u=0;u<c.length;u++)a[r][c[u]]=a[r].call(null,c[u]);a[r]._t||(i=n.createElement(s),o=n.getElementsByTagName(s)[0],i.async=1,i.src=t,o.parentNode.insertBefore(i,o),a[r].para=e)}({sdk_url:"https://www.rong360.com/static/sensorsdata/1.6.19/sensorsdata.min.js",name:"sa",server_url:"https://sensors.rong360.com/sa?project=production",show_log:!1,debug_model:!1}),sa.identify(CONST.RONGID),CONST.__utmz){var pairs=CONST.__utmz.split(".")[1].split("|"),__utmz={};_.each(pairs,function(e){e=e.split("="),__utmz[e[0]]=decodeURIComponent(e[1]||"")}),__utmz=JSON.parse(JSON.stringify(__utmz)),sa.setOnceProfile({utm_source:__utmz.utmcsr||"",utm_medium:__utmz.utmcmd||"",utm_campaign:__utmz.utmccn||"",utm_content:__utmz.utmcct||""})}sa.registerPage({platform:"h5",abclass:CONST.ABTEST,current_url:location.href,referrer:document.referrer,city_id:CONST.CITYID,cityDomain:CONST.CITYDOMAIN}),sa.quick("autoTrack"),$(window).on("error",function(e){sa&&sa.track&&sa.track("page_error",{err_type:"jserror",err_msg:e.message,position_lineno:e.lineno,position_colno:e.colno,err_file_path:e.filename,err_from:CONST.SRC,ua:navigator.userAgent})});var XHROPEN=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){var e=this,t=Array.prototype.slice.call(arguments),r=(new Date).getTime();this.addEventListener("error",function(){sa&&sa.track&&sa.track("page_error",{err_type:"fetch_error",api_path:t.length>1?t[1]:"",err_from:CONST.SRC,ua:navigator.userAgent})}),this.addEventListener("readystatechange",function(){if(4==e.readyState){var a=(new Date).getTime(),n=(a-r)/1e3;n>=3&&sa&&sa.track&&sa.track("page_error",{err_type:"api_waiting_time",method:t.length>0?t[0]:"",api_path:t.length>1?t[1]:"",err_from:CONST.SRC,ua:navigator.userAgent,wating_time:n})}}),XHROPEN.apply(this,t)};
;$&&$(document).delegate("[pattern='[0-9]*']","input",function(){var t=$(this),e=t.val();e=e.replace(/[０１２３４５６７８９]/g,function(t){return t.charCodeAt(0)-65296}),t.val(e.replace(/[^\d]/g,""))}),$.json2param=function(t){var e="";for(var _ in t)(""!=t[_]||"0"==t[_].toString())&&(e+=_+"="+t[_]+"&");return e.substring(0,e.length-1)},$.param2json=function(t){if(t){var e=t.split("&"),n={};return _.each(e,function(t){t=t.split("="),n[t[0]]=decodeURIComponent(t[1]||"")}),n=JSON.parse(JSON.stringify(n))}return!1};var sendjrtttj=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&("jrtt"==CONST.UTM_SOURCE&&(_taq.push({convert_id:"51473880271",event_type:"form"}),_taq.push({convert_id:"52920889243",event_type:"form"}),"jrttnew"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59007584333",event_type:"form"}),"jrtt1"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"55652034861",event_type:"form"}),"jrtt2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"56833794249",event_type:"form"}),"xxl2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"55804587916",event_type:"form"}),"xxl2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"58277149567",event_type:"form"}),"xxl3"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59191755505",event_type:"form"}),"jrtt2ztc"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63488036960",event_type:"form"}),"jrtt2ztc2"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63979576766",event_type:"form"}),"xxlztc"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63974466940",event_type:"form"}),"xxl"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"64989170502",event_type:"form"}),"xxl"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"64989419207",event_type:"form"}),"jrtt2z"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"66298348230",event_type:"form"})),"zbltt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59062341605",event_type:"form"}),"adtt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59087012694",event_type:"form"}),"prtt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"59815884227",event_type:"form"}),"prttdmp"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"62065315412",event_type:"form"}),"rdtt"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63541501053",event_type:"form"}),"ttfb"==CONST.UTM_SOURCE&&("dk1"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"58853662347",event_type:"form"}),"dk1"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"60846808891",event_type:"form"})),"dmp-2"==CONST.UTM_SOURCE&&"p2p"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"63847274518",event_type:"form"}),"tt-4"==CONST.UTM_SOURCE&&"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"64188051918",event_type:"form"}))},sendjrtttj_standard=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&"ttfb"==CONST.UTM_SOURCE&&("dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"58486398380",event_type:"form"}),"dk"==CONST.UTM_MEDIUM&&_taq.push({convert_id:"61048858563",event_type:"form"}))},sendBD=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&"prttdmp-2"==CONST.UTM_SOURCE&&"cs"==CONST.UTM_MEDIUM&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&_taq.push({convert_id:"63847274519",event_type:"form"})},sendBDInfor=function(){"express"==CONST.SRC&&"undefined"!=typeof _taq&&"prttdmp-2"==CONST.UTM_SOURCE&&"cs"==CONST.UTM_MEDIUM&&_taq.hasOwnProperty("push")&&"function"==typeof _taq.push&&_taq.push({convert_id:"64188185413",event_type:"form"})},Event_Bus=_.extend({},Backbone.Events),Order_Flow_Util={precheck:function(){var t=$.cookie("r360tk").split("_");return t=t.length>0?t[0]:"",t=$.fn.codemap(t+"r360")}};
;define("m_order_flow:contact_common",function(require,exports,module){var VerifyView=Backbone.View.extend({tagName:"div",className:"verify_codes",template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div id="vcode">\n	<div class="content">\n		<p class="tip">为保护您的个人信息，请输入图片验证码</p>\n		<div class="verify">\n			<span class="icon">123</span>\n			<input type="text" name="vcode" pattern="[0-9]*" maxlength="4" placeholder="请输入图片中的数字" value=""></input>\n			<img id="ImgCode" ontouchend="this.src=this.src" src="//m.rong360.com/mapi/loan/vcodecreate?rongid='+(null==(__t=rongid)?"":__t)+'&type=contact_banker" />\n		</div>\n		<p class="error"> </p>		\n		<input type="button" id="verifyVcode" class="ui-btn blue grey1 corner-4" value="点击验证"></input>\n	</div>\n</div>\n<div id="mvcode">\n	<div class="content">\n		<p class="tip"></p>		\n		<div class="verify">\n			<span class="icon">123</span>\n			<input type="text" pattern="[0-9]*" name="mvcode" maxlength="6" placeholder="请输入短信验证码" />\n			<div class="timer" key="30">剩余30秒</div>\n		</div>\n		<p class="error"> </p>\n		<input type="button" id="verifyMvcode" class="ui-btn blue grey1 corner-4" value="立即申请"></input>\n	</div>\n</div>';return __p},initialize:function(e){this.vcode="",this.mvcode="",this.originview=e.originview,this.presubmitData=e.presubmit,this.render()},render:function(){this.originview.hide();var e=this.template({rongid:CONST.RONGID});this.$el.append(e),this.originview.$el.parent().append(this.$el),this.$vcode_component=this.$el.find("#vcode"),this.$mvcode_component=this.$el.find("#mvcode"),this.presubmitData.needCaptcha?this.$vcode_component.show():this.presubmitData&&this.send_mobile_vcode(function(e){e&&this.$mvcode_component.show()},this)},vcode_check:function(e,i){this.$vcode_component.find(".error").text(e?e:""),i?this.$vcode_component.find("#verifyVcode").removeClass("grey1"):this.$vcode_component.find("#verifyVcode").attr("class").indexOf("grey1")<0&&this.$vcode_component.find("#verifyVcode").addClass("grey1")},send_mobile_vcode:function(e,i){var n=!0,t=this;$.log(1==this.originview.model.get("channel")?{page_name:"new_zhitongche_express_message_check"}:{page_name:"new_zhitongche_express_voice_check"});var o={rongid:CONST.RONGID,mobile:this.originview.model.get("user_mobile"),send_channel:this.originview.model.get("channel"),user_name:this.originview.model.get("user_name"),verify_token:this.originview.verify_token,vcode:this.vcode||"",product_id:CONST.ID,frequency:30},s=new Loading;$.ajax({type:"POST",url:"/mapi/loan/send_mobile_vcode",data:o,dataType:"json",success:function(o){t.originview.verify_token=o.data.verify_token?o.data.verify_token:"",n=t.process_send_mobileaction(o.data),e&&e.call(i,n)},complete:function(){s.remove()}})},process_send_mobileaction:function(e){var i=!0;switch(e.errno){case 0:var n="";n=1==this.originview.model.get("channel")?'短信验证码已发送至 <span class="phone">'+this.originview.model.get("user_mobile")+'</span> <br><a class="modify-phone">修改手机号</a>':"您将收到来自 <span>融360</span> 的电话，请输入电话语音中的6位数字",this.$mvcode_component.find(".tip").empty().html(n),this.mvcodeInit();break;case 1:i=!1,this.$mvcode_component.find(".error").text("您需要填写姓名");break;case 2:i=!1,this.$mvcode_component.find(".error").text("手机号码填写错误");break;case 3:i=!1,this.$vcode_component.find(".error").text(e.desc),this.$vcode_component.find("#ImgCode")[0].src=this.$vcode_component.find("#ImgCode")[0].src;break;case 4:i=!1;{this.originview.mobile_check(function(e){this.originview.process_show_verify(e)},this)}break;case 42:case 40:case 41:i=!1,new TryLaterView;break;case 43:i=!1,new Tip("您的申请过于频繁，请稍候再试。",function(){window.location.href="//m.rong360.com"})}return i},applyaction:function(){var e=this,i="";location.href.indexOf("express")>-1?i="express":location.href.indexOf("reg?")>-1&&(i="loan");var n={rongid:CONST.RONGID,mobile:this.originview.model.get("user_mobile"),user_name:this.originview.model.get("user_name"),product_id:CONST.PRODUCT_ID,banker_id:CONST.BANKER_ID,success_rate:"",loan_term:CONST.LOAN_TERM,loan_limit:CONST.LOAN_LIMIT,application_id:"",area:CONST.GET_AREA,verify_token:this.originview.verify_token,verify_code:$('[view="contact"] [name="vcode"]').val(),sms_vcode:$('[view="contact"] [name="mvcode"]').val(),pids:CONST.ID,provider_name:$('[view="contact"] [name="provider_name"]').val(),provider_uid:$('[view="contact"] [name="provider_uid"]').val(),recommendFrom:"",successRecommendSourceType:i,r360tk:Order_Flow_Util.precheck(),org_tab:window.org_tab,from:CONST.FROM},t=new Loading;$.ajax({type:"POST",url:this.originview.options.commondata.targetUrl,data:n,dataType:"json",success:function(i){if(0!=i.error)if("undefined"!=typeof i.data.vcode_error_type)e.process_apply_error(i.data.vcode_error_type);else{sa.track("sms_vcode_check",{is_pass:!0});var t=require("m_order_flow:order_status");t(i)}else n.sms_vcode&&sa.track("sms_vcode_check",{is_pass:!0}),"sem26"==CONST.FROM?$.log({page_name:"login_jisu"}):"sem26_1"==CONST.FROM&&$.log({page_name:"login_dae"}),e.process_apply_action(i)},complete:function(){t.remove()}})},process_apply_error:function(e){switch(e){case"sms_vcode_error":rs=!1,this.$mvcode_component.find(".error").text("短信验证码错误"),this.$mvcode_component.find("input[name=mvcode]").val(""),sa.track("sms_vcode_check",{is_pass:!1});break;case"verify_code_error":rs=!1,this.$vcode_component.find(".error").text("图片验证码错误"),this.$vcode_component.find("input[name=vcode]").val(""),this.$vcode_component.find("#ImgCode")[0].src=this.$vcode_component.find("#ImgCode")[0].src}},process_apply_action:function(e){var i=require("m_order_flow:order_status");i(e)},mvcodeInit:function(){this.$vcode_component.hide(),this.$mvcode_component.show();var e=this,i=e.$mvcode_component.find('[name="mvcode"]');i.attr("placeholder",1==this.originview.model.get("channel")?"请输入短信验证码":"请输入语音验证码"),i.val(""),e.$mvcode_component.find(".error").html(""),e.$mvcode_component.find("#verifyMvcode").removeClass("blue").addClass("grey1");var n=e.$mvcode_component.find(".timer");n.attr("key","30").html("剩余30秒"),clearInterval(this.timer);var t=n.attr("key");this.timer=setInterval(function(){0==t?(clearInterval(e.timer),n.attr("key",0).html("没收到?")):(t-=1,n.attr("key",t).html("剩余"+t+"秒"))},1e3)},reSetImgVcode:function(){this.$vcode_component.find("#ImgCode").src=this.$vcode_component.find("#ImgCode").src},events:{'input [name="vcode"]':function(e){var i=$(e.target).val();this.vcode=i,i.length<4?this.vcode_check("请输入4位图片验证码",!1):this.vcode_check("",!0)},'input [name="mvcode"]':function(e){var i=$(e.target),n=i.val(),t=/^\d{6}$/.test(n);6==i.val().length&&t?$("#verifyMvcode").removeClass("grey1").addClass("blue"):(i.parent().next().html(""),$("#verifyMvcode").removeClass("blue").addClass("grey1"))},"click #verifyVcode":function(){try{sendBD()}catch(e){}var i=this.$vcode_component.find('[name="vcode"]').val();return i.length<4?void this.$vcode_component.find(".error").text("请输入4位图片验证码"):void(this.presubmitData.isNeedMobileCheck?this.send_mobile_vcode():this.applyaction())},"click .timer":function(e){"0"==$(e.target).attr("key")&&new NotRecView({parentview:this})},"click #verifyMvcode":function(){sa.track("sms_vcode_btn_click"),this.$mvcode_component.find("input").val().length<6||this.applyaction()},"click .modify-phone":function(){new ModifyNumView({parentview:this})}}}),Contact_Common=Backbone.View.extend({tagName:"div",className:"contact_common",attributes:{wrap:"h6"},template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="title ">留下您的联系方式，以便办理贷款</div>	\n<div class="filed">\n	<span class="ui-text">\n		<label><i class="icon-Icon-profile2"></i></label>\n		<div class="inputparent">\n			<input type="text" name="name" placeholder="请输入姓名" maxlength="6" required value="'+(null==(__t=user_name)?"":__t)+'"/>	\n			<span class="contact-filed-error error"></span>\n		</div>\n	</span>	\n	\n</div>\n<div class="filed">\n	<span class="ui-text">\n		<label><i class="icon-Icon-phone"></i></label>					 \n		<div class="inputparent">\n			<input type="',__p+=$.os.android?"tel":"text",__p+='" pattern="[0-9]*" placeholder="请输入手机号" name="phone" maxlength="11" required value="'+(null==(__t=user_mobile)?"":__t)+'" />			\n			<span class="contact-filed-error error"></span>	\n		</div>\n\n	</span>		\n</div>	\n<div wrap="b10">		\n	<input type="button" name="submitbtn" class="ui-btn blue" value="'+(null==(__t=defbtnval)?"":__t)+'">\n</div>';return __p},initialize:function(e,i){this.verify_token=0,this.options=e,this.parentNode=i,_.extend(e.commondata,{channel:1}),this.model=new Backbone.Model(e.commondata),this.render(),this.$user_name=this.parentNode.find('[name="name"]'),this.$user_mobile=this.parentNode.find('[name="phone"]')},render:function(){var e=this.template(this.model.attributes);this.$el.append(e),$(this.parentNode).append(this.$el)},setUnEmptyRemind:function(e,i){var n=this.parentNode.find('[name="'+e+'"]'),t=n.parent(),o=t.parent();o.length>0&&(i?(n.removeClass("show").addClass("hide"),t.find(".contact-filed-error").text(i).removeClass("hide").addClass("show"),setTimeout(function(){n.removeClass("hide").addClass("show"),t.find(".contact-filed-error").text(i).removeClass("show").addClass("hide")},1500)):(o.removeClass("emptyremind"),setTimeout(function(){o.addClass("emptyremind")},0)))},mobile_check:function(e,i){Event_Bus.trigger("Do_User_Check");var n=!1,t=this;this.parentNode.find('[name="submitbtn"]').attr("disabled",!0);var o=new Loading;return $.ajax({type:"POST",url:"/mapi/loan/presubmit_check",data:{rongid:CONST.RONGID,product_id:CONST.PRODUCT_ID,banker_id:CONST.BANKER_ID,user_name:t.model.get("user_name"),mobile:t.model.get("user_mobile"),verify_token:t.verify_token,r360tk:Order_Flow_Util.precheck()},dataType:"json",success:function(o){0==o.error?(t.verify_token=o.data.verify_token,n=o.data,e&&e.call(i,n)):new Tip("服务器偷懒了，请稍后再试",function(){window.location.assign("//m.rong360.com")})},error:function(){new Tip("服务器偷懒了，请稍后再试",function(){window.location.assign("//m.rong360.com")})},complete:function(){o.remove(),t.parentNode.find('[name="submitbtn"]').removeAttr("disabled")}}),n},showVerifyView:function(e){this.verify_view&&this.verify_view.remove(),this.verify_view=new VerifyView({originview:this,presubmit:e,channel:this.model.get("channel")})},rethiscity:function(e,i){var n=this;"express"!=CONST.SRC?(new Loading,window.location.href="/?city_id="+e):$.ajax({type:"GET",url:"/mapi/loan/cities",data:{rongid:CONST.RONGID,check_city:"1",t:(new Date).getTime(),city_id:e},dataType:"json",success:function(){n.showVerifyView(i)}})},UnSameCityTip:function(e){{var i=this,n={title:"您在哪个城市工作",subTitle:"机构仅办理当地工作人士申请",diffText:""};window.location}$.extend(n,{ip_city:e.mobileCity.name,current_city:e.mobileCity.orderCityName,locationCallback:function(){i.rethiscity(e.mobileCity.id,e)},currentCallback:function(){i.showVerifyView(e)},isOtherBtn:!0,otherCallback:function(){$.cookie("selCity","yes");var e=window.location.href;"express"!=CONST.SRC&&(e=""),window.location.assign("//m.rong360.com/city?src="+encodeURIComponent(e))},closeCallback:function(){i.showVerifyView(e)}}),$.fn.LocationPop(n)},hide:function(){this.$el.hide()},show:function(){this.$el.show()},process_show_verify:function(e){e&&(1==e.needCaptcha&&$.log({page_name:"new_zhitongche_express_picture_check"}),1!==e.mobileCity.isMatch?this.UnSameCityTip(e):this.showVerifyView(e))},events:{'input [name="name"]':function(e){var i=$(e.target),n=i.val();if(this.model.set({user_name:n}),n.length>0){var t=i.closest(".ui-text");t.removeClass("emptyremind")}},'input [name="phone"]':function(e){var i=$(e.target),n=i.val();if(this.model.set({user_mobile:n}),n.length>0){var t=i.closest(".ui-text");t.removeClass("emptyremind")}var o=1==n.charAt(0);if(11==i.val().length&&o)if(""!=this.$user_name.val()){this.parentNode.find("input").blur();{this.mobile_check(function(e){this.process_show_verify(e)},this)}$.log({page_name:"new_contact_second_step"})}else this.setUnEmptyRemind("name")},"click .ui-btn":function(){var e=parseInt(this.$user_mobile.val()),i=/^1\d{10}$/.test(e);if(""==this.$user_name.val())return void this.setUnEmptyRemind("name");if(""==this.$user_mobile.val())return void this.setUnEmptyRemind("phone");if(!i)return void this.setUnEmptyRemind("phone","手机号格式有误");this.mobile_check(function(e){e&&(1==e.needCaptcha&&$.log({page_name:"new_zhitongche_express_picture_check"}),1!==e.mobileCity.isMatch?this.UnSameCityTip(e):this.showVerifyView(e),$.log({page_name:"new_contact_second_step"}))},this);"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_yanzheng"})}}}),TryLaterView=Backbone.View.extend({tagName:"div",className:"popup",template:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+="<div class='mask'></div>\n	<div class='dlg dlg-later'>\n	<div class='closebtn'>\n		<i class='icon-icon-close'></i>\n	</div>\n	<div class='tip'><p>您获取验证码次数已达上限<br>请稍后再试</p></div>\n	<div  class='ui-btn know corner-2 blue'>我知道了</div>\n</div>";return __p},initialize:function(){this.render()},render:function(){this.$el.append(this.template()),$("[view=contact]").append(this.$el)},events:{"click .know,.closebtn":function(){this.remove(),new Loading,window.location.href="//m.rong360.com"}}}),NotRecView=Backbone.View.extend({tagName:"div",className:"popup",template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<div class='mask'></div>\n<div class='dlg dlg-rev'>\n	<div class='closebtn'>\n		<i class='icon-icon-close'></i>\n	</div>\n	<div class='tip-group'>\n		<div class='dunpai'></div>\n		<div class='tip'>没收到？</div>\n	</div>\n	",_.each(BtnTypes,function(e,i){__p+="\n		  ";var n=0==i?"corner-0 grey1":"corner-2 blue";__p+="\n		<div class='ui-btn "+(null==(__t=n)?"":__t)+" "+(null==(__t=e.type)?"":__t)+"_resend' data-type="+(null==(__t=e.channel)?"":__t)+" >"+(null==(__t=0==i?"再次":"")?"":__t)+(null==(__t=e.msg)?"":__t)+"</div>\n	"}),__p+="\n</div>\n";return __p},initialize:function(e){this.parentview=e.parentview;var i={BtnTypes:[{channel:1,type:"mobile",msg:"发送短信验证码"},{channel:2,type:"voice",msg:"获取语音验证码"}]};this.parentview.originview.model.get("channel")!=i.BtnTypes[0].channel&&(i.BtnTypes=i.BtnTypes.reverse()),this.render(i)},render:function(e){this.$el.append(this.template(e)),$("[view=contact]").append(this.$el)},events:{"click .know,.closebtn":function(){this.remove()},"click .mobile_resend,.voice_resend":function(e){var i=$(e.target).attr("data-type");this.parentview.originview.model.set({channel:i}),this.parentview.send_mobile_vcode(function(){this.remove()},this)}}}),ModifyNumView=Backbone.View.extend({tagName:"div",className:"popup",template:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+="<div class='mask'></div>\n<div class='dlg dlg-number'>\n	<div class='closebtn'>\n		<i class='icon-icon-close'></i>\n	</div>\n	<p class='tip'>请重新输入您的手机号</p>\n	<div class='phone'>\n		<input type='text' name='rephone' pattern='[0-9]*' maxlength='11' placeholder='请填写手机号码'></input>\n	</div>\n	<p class='error'> </p>\n	<div id='rephone' class='ui-btn grey1 corner-2'>提交</div>\n</div>\n";return __p},initialize:function(e){this.parentview=e.parentview,this.render()},render:function(){this.$el.append(this.template()),$("[view=contact]").append(this.$el)},events:{'input [name="rephone"]':function(e){var i=$(e.target),n=/^1\d{10}$/.test(i.val());n?this.$el.find("#rephone").removeClass("grey1").addClass("blue"):(this.$el.find(".dlg-number .error").html(""),this.$el.find("#rephone").removeClass("blue").addClass("grey1"))},"click #rephone":function(){var e=this.$el.find("[name=rephone]"),i=e.val(),n=i.length;if(n){var t=1==i.charAt(0)&&11==n;if(t)if(i==this.parentview.originview.model.get("user_mobile"))this.$el.find(".error").text("请输入不同的手机号码"),this.$el.find("#rephone").removeClass("blue").addClass("grey1");else{clearInterval(this.parentview.timer),this.parentview.originview.model.set({user_mobile:i});{this.parentview.originview.mobile_check(function(e){this.parentview.originview.process_show_verify(e),this.remove()},this)}}else this.$el.find(".error").text("手机号码格式不正确")}else this.$el.find(".error").text("请输入您的手机号码")},"click .closebtn":function(){this.remove()}}});module.exports=Contact_Common});
;define("m_order_flow:expressquiz",function(require,exports,module){var ExpressQZCollection=Backbone.Collection.extend({getViewTag:function(){return this.viewTags},setViewTag:function(e){this.viewTags=e}}),ExpressQZView=Backbone.View.extend({tagName:"div",attributes:{view:"express"},template:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<form>\n	<div class="qask_list">\n		\n	</div>\n</form>\n<div class="ui-button">\n	<input value="下一步" type="button" class="btn blue" />\n</div>';return __p},initialize:function(e,t,n){this.collection=e,this.viewname=t,this.router=n,this.toplevelcomps=[],this.secondlevelcomps={},this.render(),this.listenTo(this.collection,"add",this.addquiz)},render:function(){var e=componentfactory("titlebar"),t="";0==this.collection.curIndex?"express"==CONST.SRC?CONST.CURRENT_APP.views.hasOwnProperty("jisudai")&&(t="#jsd_view"):t="#qask/0":t="#qask/"+(parseInt(this.collection.curIndex)-1);var n="填写个人信息";"express"==CONST.src&&(n=0==this.collection.curIndex?"个人身份":"资产信用");var i=new e(t,n,!1);this.$el.append(i._dom);var o=componentfactory("navbar"),s=this.collection.getViewTag(),r=new o(s,this.collection.curIndex);if(this.$el.append(r._dom),"reg"!=CONST.SRC&&0==this.collection.curIndex){var c=componentfactory("label"),l=new c({labeltext:"贷款的可选金额0.3万~9999万",className:"ui-label-tips"});this.$el.append(l._dom)}var a=this.template();this.$el.append($(a)),$(".MiniWrap").append(this.$el),"express"==CONST.SRC?$.log({page_name:"new_qask_"+this.collection.curIndex}):"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_qa"+(this.collection.curIndex+1)}),sa.track("qask",{index:this.collection.curIndex,from:CONST.SRC})},addquiz:function(e){var t=componentfactory(e.get("type")),n=new t(e.attributes);this.toplevelcomps.push(n),this.$el.find(".qask_list").append(n.$el),2==e.get("type")&&this.setLevel2Select(n.$el.find("select"))},verify:function(){for(var e=!0,t=0,n=this.toplevelcomps.length;n>t;t++){var i=this.toplevelcomps[t];if(i.verify&&1!=i.verify()){e=!1,i.$el[0].scrollIntoView();break}}if(!e)return e;for(var o in this.secondlevelcomps)if(this.secondlevelcomps.hasOwnProperty(o))for(var s=this.secondlevelcomps[o],t=s.length-1;t>=0;t--)if(i=s[t],i.verify&&1!=i.verify()){e=!1,i.$el[0].scrollIntoView();break}return e?e:e},hide:function(){this.$el.hide()},show:function(){this.$el.show()},events:{"change select":function(e){this.setLevel2Select(e.target)},"click .ui-button":function(){sa.track("qask_btn_click");var e=this.verify();if(e){for(var t,n,i=this,o=this.collection.models,s=0;s<o.length;s++){var r=o[s].attributes;"user_name"!=r.var_name&&"user_name"!=r.urlkey?(r.var_name&&r.var_name.indexOf("ID_card_number")>-1||r.urlkey&&r.urlkey.indexOf("ID_card_number")>-1)&&(n=!0):t=!0}if(n&&t&&!sessionStorage.getItem("nameIdConfirmShowed")){sessionStorage.setItem("nameIdConfirmShowed",1);var c=componentfactory("confirm");new c({text:"请确认您的姓名和身份证信息填写正确，并确定为本人申请贷款，后续流程将核实身份，提交后不可修改！",submitCallback:function(){this.remove(),i.doNext()},cancelCallback:function(){this.remove()}})}else i.doNext()}if(0==this.collection.curIndex)try{sendBDInfor()}catch(l){}}},doNext:function(){if(this.collection.hasNext)this.router.navigate("qask/"+(+this.collection.curIndex+1),{trigger:!0});else{for(var e=[],t=this.collection.curIndex;t>=0;t--)e=e.concat(this.router.app.views["qask"+t].getformdata());if(e.length>0){var n=e.join("&");Event_Bus.trigger("QAskDone",{params:n+"&"+$.json2param({rongid:CONST.RONGID,application_type:CONST.APPLICATION_TYPE,express_type:CONST.GET_EXPRESS_TYPE,from_type:CONST.FROM_TYPE||""}),titleinfo:this.collection.getViewTag()})}}var i=$.param2json(this.router.app.views["qask"+this.collection.curIndex].getformdata()),o={};for(var s in i){var r=s.replace(/(^\s*)|(\s*$)/g,""),c=r.replace(/\s+/g,"_"),l=c.replace(/\-+/g,"_"),a=i[s];o[l]=a}o.from="express"==CONST.SRC?"express":"reg",o.qask_index=this.collection.curIndex,sa.track("qask_submit",o)},setLevel2Select:function(e){var t=this,n=$(e),i=n.closest(".ui-select").children(".second-level"),o=n.attr("name"),s=n.val(),r=this.collection.where({urlkey:o},!0);if(t.secondlevelcomps.hasOwnProperty(o)?t.secondlevelcomps[o].length>0&&(_.each(t.secondlevelcomps[o],function(e){e.remove()}),t.secondlevelcomps[o].length=0):t.secondlevelcomps[o]=[],o&&r){var c=_.find(r.get("data"),function(e){return e.value==s});if("op_type"==o&&4==s){var l=_.filter(c.children,function(e){return"user_income_by_card"!==e.urlkey&&"cash_receipts"!==e.urlkey}),a=[{type:"money-type"}].concat(l);c&&a.length>0&&_.each(a,function(e){var n=componentfactory(e.type),s=new n(e);i.append(s.$el),t.secondlevelcomps[o].push(s)})}else c&&c.children&&c.children.length>0&&_.each(c.children,function(e){var n=componentfactory(e.type),s=new n(e);i.append(s.$el),t.secondlevelcomps[o].push(s)})}},getformdata:function(){return this.$el.find("form").serialize()}}),GetCouponView=Backbone.View.extend({tagName:"div",className:"get-coupon",template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="mask"></div>\r\n<div class="coupon">\r\n	<div class="coupon-top">\r\n		<div class="coupon-account">免息券已放入账户</div>\r\n		<div class="coupon-phone">'+(null==(__t=phone)?"":__t)+'</div>\r\n		<div class="coupon-daikuan">贷款免息券</div>\r\n		<div class="coupon-use">无门槛使用</div>\r\n		<div class="coupon-desc">0抵押&nbsp;&nbsp;审批快&nbsp;&nbsp;极速放款</div>\r\n	</div>\r\n	<div class="coupon-bottom">领券成功，即刻贷款</div>\r\n	<div class="rules-close"></div>\r\n\r\n</div>\r\n';return __p},initialize:function(e){this.phone=e,this.render()},render:function(){this.$el.append(this.template({phone:this.phone})),$("[view=express]").append(this.$el)},events:{"click .rules-close,.coupon-bottom":function(){this.$el.hide()}}});module.exports={ExpressQZCollection:ExpressQZCollection,ExpressQZView:ExpressQZView,GetCouponView:GetCouponView}});
;define("m_order_flow:expressqaskmore",function(require,exports,module){var ExpressQMoreCollection=Backbone.Collection.extend({getViewTag:function(){return this.viewTags},setViewTag:function(e){this.viewTags=e}}),ExpressQMoreZView=Backbone.View.extend({tagName:"div",attributes:{view:"express-qask-more"},template:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<form>\n	<div class="qask_more_list">\n		\n	</div>\n</form>\n<div class="ui-button">\n	<input value="下一步" type="button" class="btn blue" />\n</div>';return __p},initialize:function(e,t,o){this.router=o,this.collection=e,this.viewname=t,this.toplevelcomps=[],this.secondlevelcomps={},this.render(),this.listenTo(this.collection,"add",this.addquiz)},render:function(){var e=componentfactory("titlebar"),t=new e("javascript:window.history.go(-1)","补充问题");this.$el.append(t._dom);var o=componentfactory("navbar"),s=this.collection.getViewTag(),i=new o(s,this.collection.viewTags.length-1);this.$el.append(i._dom);var n=this.template();this.$el.append($(n)),$(".MiniWrap").append(this.$el),"express"==CONST.SRC&&$.log({page_name:"new_qask_more"}),sa.track("qask_more",{from:CONST.SRC})},addquiz:function(e){var t=componentfactory(e.get("type")),o=new t(e.attributes);this.toplevelcomps.push(o),this.$el.find(".qask_more_list").append(o.$el),2==e.get("type")&&this.setLevel2Select(o.$el.find("select"))},verify:function(){for(var e=!0,t=0,o=this.toplevelcomps.length;o>t;t++){var s=this.toplevelcomps[t];if(s.verify&&1!=s.verify()){e=!1,s.$el[0].scrollIntoView();break}}if(!e)return e;for(var i in this.secondlevelcomps)if(this.secondlevelcomps.hasOwnProperty(i))for(var n=this.secondlevelcomps[i],t=n.length-1;t>=0;t--)if(s=n[t],s.verify&&1!=s.verify()){e=!1,s.$el[0].scrollIntoView();break}return e?e:e},hide:function(){this.$el.hide()},show:function(){this.$el.show()},events:{"change select":function(e){this.setLevel2Select(e.target)},"click .ui-button":function(){sa.track("qask_more_btn_click");var e=this.verify();if(e){var t=[];if(t=t.concat(this.getformdata()),t.length>0){var o=t.join("&");Event_Bus.trigger("ExpressQaskMoreDone",{router:this.router,params:o+"&"+$.json2param({rongid:CONST.RONGID,application_type:CONST.APPLICATION_TYPE,express_type:CONST.GET_EXPRESS_TYPE,from_type:CONST.FROM_TYPE||""})}),Event_Bus.trigger("QAskMoreDone",{params:o+"&"+$.json2param({rongid:CONST.RONGID,application_type:CONST.APPLICATION_TYPE})});var s=$.param2json(o);s.from="express"==CONST.SRC?"express":"reg",sa.track("qaskmore_submit",s)}}}},setLevel2Select:function(e){var t=this,o=$(e),s=o.closest(".ui-select").children(".second-level"),i=o.attr("name"),n=o.val(),r=this.collection.where({urlkey:i},!0);if(t.secondlevelcomps.hasOwnProperty(i)?t.secondlevelcomps[i].length>0&&(_.each(t.secondlevelcomps[i],function(e){e.remove()}),t.secondlevelcomps[i].length=0):t.secondlevelcomps[i]=[],i&&r){var l=_.find(r.get("data"),function(e){return e.value==n});l&&l.children&&l.children.length>0&&_.each(l.children,function(e){var o=componentfactory(e.type),n=new o(e);s.append(n.$el),t.secondlevelcomps[i].push(n)})}},getformdata:function(){return this.$el.find("form").serialize()}});module.exports={ExpressQMoreCollection:ExpressQMoreCollection,ExpressQMoreZView:ExpressQMoreZView}});
;define("m_order_flow:recommend",function(require,exports,module){var RecommendModel=Backbone.Model.extend({defaults:{selected:!1},initialize:function(e){this.set({is_taojinyun:e.hasOwnProperty("taojinyun_url")})}}),RecommendView=Backbone.View.extend({tagName:"div",attributes:{wrap:"t8"},template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="recommend" wrap="t8" >\n',is_taojinyun)__p+='\n    <div class="ui-block list-item ui-list">\n        <div class="list-item-info item">\n            <div class="icon">\n                <span class="ui-radio" data-value="'+(null==(__t=str_id)?"":__t)+"-"+(null==(__t=banker_id)?"":__t)+'" data-limit="'+(null==(__t=real_loan_quota)?"":__t)+'" data-term="'+(null==(__t=real_loan_term)?"":__t)+'" ></span>\n            </div>\n            <div class="detail">\n                <div class="title">'+(null==(__t="个人小额贷款-在线申请,在线放款")?"":__t)+'</div>                                 \n                    <div class="p-info desc">\n                        <div class="item">\n                            <span>成功率:</span>\n                            <span class="yellow star">                                                \n                                <span style="color:#ffc445;">★★★★★</span>\n                            </span>\n                        </div>                                                                  \n                        <div class="item">\n                            <span>额度:</span>\n                            <span class="yellow star">1000元 - 5万</span>\n                        </div>                      \n                        <div class="item">\n                            <span>期限:</span>\n                            <span class="yellow star">7天 - 12个月</span>\n                        </div>                      \n                    </div> \n            </div>\n        </div>\n    </div>\n';else{if(__p+='\n     <div class="ui-block list-item ui-list" data-cid="'+(null==(__t=cid)?"":__t)+'" >\n        <div class="list-item-info item">\n            <div class="icon">\n                <span class="ui-radio" data-value="'+(null==(__t=str_id)?"":__t)+"-"+(null==(__t=banker_id)?"":__t)+'" data-limit="'+(null==(__t=real_loan_quota)?"":__t)+'" data-term="'+(null==(__t=real_loan_term)?"":__t)+'"  data-tag="'+(null==(__t="undefined"!=typeof tag_type&&tag_type?tag_type:"")?"":__t)+'"></span>\n            </div>\n            <div class="detail">\n                <div class="title">'+(null==(__t=product_name+"-"+org_name)?"":__t)+"</div>             \n                ","undefined"!=typeof is_doudi&&is_doudi){__p+='\n                    <div class="p-info desc">\n                        <span class="box-item" doc="12 main">成功率：<span style="color:#ffc445;">★★★★</span><span doc="tail">★</span></span>\n                        <br>\n                        ';var ppdaicount=parseInt(Date.parse(new Date)/1e3/30-46912865);__p+='\n                        <span class="box-item" doc="12 main right">已有<span data-color="red">'+(null==(__t=ppdaicount)?"":__t)+"</span>人成功申请</span>\n                    </div>\n                "}else{if(__p+="                \n                    ",1==standard_type){if(__p+='\n                        <div class="p-info desc">                        \n                                <div>\n                                    ',1==standard_type){__p+="\n                                        ";var succ=Math.ceil((approve_succ_rate?approve_succ_rate:0)/20);__p+='\n                                        <span style="color:#35d785;">';for(var j=0,star_len=succ;star_len>j;++j)__p+="★";__p+='</span><span doc="tail">'+(null==(__t=new Array(6-succ).join("★"))?"":__t)+"</span>\n                                    "}__p+='\n                                </div>                      \n                            <div class="grid-2">\n                                <span class="grid-item" wrap="r5">总利息：<span doc="red">'+(null==(__t=total_expense)?"":__t)+'</span></span>\n                                <span class="grid-item" wrap="r5">月供：<span doc="red">'+(null==(__t=month_expense)?"":__t)+"</span></span>\n                            </div>\n                        </div>\n                        \n                        ","undefined"!=typeof is_rec&&is_rec&&(__p+='\n                        <div class="p-info" doc="blue">\n                            <span class="item">可办理：<span doc="red">'+(null==(__t=real_loan_quota)?"":__t)+"万"+(null==(__t=real_loan_term)?"":__t)+"个月</span></span>\n                        </div>\n                        "),__p+="                    \n                        ","undefined"!=typeof tag_type&&tag_type&&(__p+='\n                            <i class="icon-loan icon-height-'+(null==(__t=tag_type)?"":__t)+'"></i>\n                        '),__p+="\n                    "}else{__p+='\n                        <div class="p-info grid desc">\n                                <div class="item">\n                                    <label>服务质量</label>\n                                    <span class="yellow star">\n                                        ';var succ=Math.ceil((approve_succ_rate?approve_succ_rate:0)/20);__p+='\n                                        <span style="color:#e98a44;">';for(var j=0,star_len=succ;star_len>j;++j)__p+="★";__p+='</span><span class="star" doc="moon">'+(null==(__t=new Array(6-succ).join("★"))?"":__t)+'</span>\n                                    </span>\n                                </div>                                                                  \n                                <div class="item">\n                                    <label>月综合费率(%)</label>\n                                    <span class="yellow star">'+(null==(__t=month_rate)?"":__t)+'</span>\n                                </div>                      \n                                <div class="item">\n                                    <label>一次性付费(%)</label>\n                                    <span class="yellow star">'+(null==(__t=once_rate)?"":__t)+"</span>\n                                </div>                      \n                        </div>   \n                    "}__p+=" \n                "}__p+=" \n            </div>\n        </div>        \n        ","undefined"!=typeof qask_tpl&&(__p+="\n           ",qask_tpl.length>0&&(__p+='\n            <form>\n                <div class="qask-list form-wrap" wrap="b15"></div>\n            </form>\n           '),__p+="\n        "),__p+="    \n    </div>\n"}__p+="\n</div>"}return __p},initialize:function(e){this.toplevelcomps=[],this.secondlevelcomps={},this.model=e.model,this.listenTo(this.model,"change:selected",this.toggleSelect),this.render()},render:function(){var e=this.model.attributes;_.extend(e,{cid:this.model.cid});var t=this.template(e);this.$el.append(t)},verify:function(){for(var e=!0,t=0,n=this.toplevelcomps.length;n>t;t++){var i=this.toplevelcomps[t];if(i.verify&&1!=i.verify()){e=!1,i.$el[0].scrollIntoView();break}}if(!e)return e;for(var s in this.secondlevelcomps)if(this.secondlevelcomps.hasOwnProperty(s))for(var a=this.secondlevelcomps[s],t=a.length-1;t>=0;t--)if(i=a[t],i.verify&&1!=i.verify()){e=!1,i.$el[0].scrollIntoView();break}return e?e:e},getformdata:function(){return this.$el.find("form").length>0?this.$el.find("form").serialize():""},toggleSelect:function(){if(this.model.get("selected")){this.$el.find(".ui-radio").addClass("active");var e=this;this.model.get("qask_tpl")&&this.model.get("qask_tpl").length>0&&_.each(this.model.get("qask_tpl"),function(t){var n=componentfactory(t.type),i=new n(t);e.$el.find(".qask-list").append(i.$el),e.toplevelcomps.push(i)})}else this.$el.find(".ui-radio").removeClass("active"),this.$el.find(".qask-list").empty(),this.toplevelcomps.length=0,this.secondlevelcomps={};this.model.collection.IS_MULT_SELECT&&Event_Bus.trigger("RecommendItemSelectedChange",{model:this.model})},events:{"click .list-item .icon,.list-item .detail":function(){if(this.model.set({selected:!this.model.get("selected")}),!this.model.collection.IS_MULT_SELECT&&1==this.model.get("selected")){var e=this.model.cid;_.each(this.model.collection.models,function(t){t.cid!=e&&t.set({selected:!1})})}},"change select":function(e){this.setLevel2Select(e.target)}},setLevel2Select:function(e){var t,n=this,i=$(e),s=i.closest(".ui-select").children(".second-level"),a=i.attr("name"),o=i.val(),l=_.where(this.model.get("qask_tpl"),{urlkey:a});if(l.length>0&&(t=l[0]),n.secondlevelcomps.hasOwnProperty(a)?n.secondlevelcomps[a].length>0&&(_.each(n.secondlevelcomps[a],function(e){e.remove()}),n.secondlevelcomps[a].length=0):n.secondlevelcomps[a]=[],a&&t){var r=_.find(t.data,function(e){return e.value==o});r&&r.children&&r.children.length>0&&_.each(r.children,function(e){var t=componentfactory(e.type),i=new t(e);s.append(i.$el),n.secondlevelcomps[a].push(i)})}}}),RecommendListCollection=Backbone.Collection.extend({initialize:function(){},getdata:function(){}}),RecommendListView=Backbone.View.extend({attributes:{view:"recommend-list"},tagName:"div",template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="qasktip">加油!再回答几个问题马上完成申请</div>\n',list_tip&&(__p+='\n	<div class="ui-tip">'+(null==(__t=list_tip)?"":__t)+"</div>	\n"),__p+="\n\n",is_mult_select&&(__p+="\n<div class='recommend_tip'>\n    <div class=\"noneseltip\">申请2款及以上贷款,可以大大提高贷款成功率哟</div>\n	",__p+=has_cooper?'\n		<div class="cooper" style="display: none;">已为您选择<div class="number"></div>款产品，贷款成功率: <div class="cooper-rate"></div></div> \n	':'\n	<div class="rates" style="display: none;">\n		<div class="currentrate">贷款成功率: <div class="rateNum"></div></div>\n		<div class="targetrate">再申请一款提高至: <div class="rateNum"></div></div>\n	</div>\n	',__p+="\n</div>\n"),__p+='\n<div class=\'recommend_list\'>\n		\n</div>\n\n<div class="ui-button">\n	<input value="选好了，帮我申请" type="button" class="btn blue" />\n</div>';return __p},initialize:function(e){this.viewname="reg"==CONST.SRC?"order_fail":"recommend",this.collection=e,this.listview=[],this.listenTo(this.collection,"add",this.addRecommend),this.listenTo(this.collection,"reset",this.resetRecommend),$(".MiniWrap").append(this.$el),this.render(),Event_Bus.on("RecommendItemSelectedChange",function(e){this.changesuccessrate(e.model)},this),this.isfetching=!1},events:{"click .ui-button":function(){var e=this.verify();e&&this.productReg()}},verify:function(){var e=!0,t=this.collection.where({selected:!0});0==t.length&&(new Tip("请至少点击一款产品进行申请"),e=!1);for(var n=this.listview.length-1;n>=0;n--){var i=this.listview[n];if(1==i.model.get("selected")&&!i.verify()){e=!1;break}}return e},render:function(){if(this.list_tip=this.collection.hasOwnProperty("desc")?this.collection.desc:"",this.collection.IS_MULT_SELECT){var e=5*Math.random();e=parseInt(e,10),e=Math.floor(e),this.RateInfo={randomRate:e,currentRate:0,targetRate:0}}var t=componentfactory("titlebar"),n=new t("javascript:window.history.go(-1)","为您推荐贷款");this.$el.append(n._dom),"reg"==CONST.SRC&&(this.list_tip="抱歉，该产品与您的资质不匹配,我们根据您的资质推荐了其他产品。"),this.$el.append($(this.template({list_tip:this.list_tip,is_mult_select:this.collection.IS_MULT_SELECT,has_cooper:this.collection.has_cooper}))),"express"==CONST.SRC&&$.log({page_name:"new_recommend_visited"})},rerender:function(){this.$el.empty(),this.listview.length=0,this.render()},addRecommend:function(e){var t=new RecommendView({model:e});this.listview.push(t),this.$el.find(".recommend_list").append(t.$el),"reg"!==CONST.SRC&&(this.collection.hasOwnProperty("IS_DOUDI")&&1==this.collection.IS_DOUDI&&t.model.set({selected:!0}),1==t.model.get("is_cooper")&&t.model.set({selected:!0})),e&&"1b37815fihnotsig"==e.get("str_id")&&$.log({page_name:"new_zhitongche_ppdshow"})},resetRecommend:function(){this.rerender()},changesuccessrate:function(e){var t=this.collection.filter(function(e){return 1==e.get("is_cooper")}).length>0,e=e,n=this.collection.where({selected:!0}),i=n.length,s=_.filter(n,function(e){return e.get("qask_tpl").length>0});if(s.length>0?this.$el.find(".qasktip").show():this.$el.find(".qasktip").hide(),n.length>0?(this.$el.find(".noneseltip").hide(),t?this.$el.find(".cooper").show():this.$el.find(".rates").show()):(this.$el.find(".noneseltip").show(),t?(this.$el.find(".cooper").hide(),this.$el.find(".noneseltip").hide()):this.$el.find(".rates").hide()),this.collection.IS_MULT_SELECT)if(t){1==e.get("selected")?this.calselectedrate(i,e):this.calunselectedrate(i,s);var a=this.$el.find(".cooper .number"),o=this.$el.find(".cooper .cooper-rate");a.text(i).removeClass("ratenumaction"),o.text(this.RateInfo.currentRate+"%").removeClass("ratenumaction"),setTimeout(function(){a.addClass("ratenumaction"),o.addClass("ratenumaction")},50)}else if(this.collection.length>1){1==e.get("selected")?this.calselectedrate(i,e):this.calunselectedrate(i,s);var l=this.$el.find(".currentrate .rateNum");l.text(this.RateInfo.currentRate+"%").removeClass("ratenumaction"),setTimeout(function(){l.addClass("ratenumaction")},50),0==this.RateInfo.targetRate?this.$el.find(".targetrate").hide():(this.$el.find(".targetrate").show(),this.$el.find(".targetrate .rateNum").text(this.RateInfo.targetRate+"%"))}},calselectedrate:function(e,t){1==e?(this.RateInfo.currentRate=0==t.get("qask_tpl").length?this.RateInfo.currentRate+60+this.RateInfo.randomRate:this.RateInfo.currentRate+59+this.RateInfo.randomRate,this.RateInfo.targetRate=this.RateInfo.currentRate+20):2==e?(this.RateInfo.currentRate=this.RateInfo.currentRate+20,this.RateInfo.targetRate=this.RateInfo.currentRate+14):3==e&&(this.RateInfo.currentRate=this.RateInfo.currentRate+14,this.RateInfo.targetRate=0)},calunselectedrate:function(e,t){0==e?(this.RateInfo.currentRate=0,this.RateInfo.targetRate=0):1==e?(this.RateInfo.currentRate=t.length>0?59+this.RateInfo.randomRate:60+this.RateInfo.randomRate,this.RateInfo.targetRate=this.RateInfo.currentRate+20):2==e&&(this.RateInfo.currentRate=t.length>0?79+this.RateInfo.randomRate:60+this.RateInfo.randomRate+20,this.RateInfo.targetRate=this.RateInfo.currentRate+14)},productReg:function(){if(!this.isfetching){var e=this,t=this.collection.where({selected:!0}),n=t.length;if(this.collection.has_cooper&&$.log({page_name:"cooper_reg",ext:{count:n}}),1==n&&t[0].get("is_taojinyun"))$.log({page_name:"new_reg_product",ext:{product_type:"taojinyun",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}),sa.track("order_apply_success",{from:CONST.SRC,type:"taojinyun"}),new Loading,window.location.href=t[0].get("taojinyun_url");else{for(var i,s=new Loading,a=[],o=[],l=n,r=0,c=0,_=this.listview.length-1;_>=0;_--){var d=this.listview[_];if(1==d.model.get("selected"))switch(a.push(d.model.get("str_id")+"-"+(d.model.get("banker_id")?d.model.get("banker_id"):"")),i=d.model.get("area"),o.push(d.getformdata()),d.model.get("tag_type")){case"success":r++;break;case"popular":c++}}from_quiz=o.join("&"),a=a.join(","),sa.track("productreg",{loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,productids:a,from:"express"==CONST.SRC?"express":"reg"}),e.isfetching=!0,$.getJSON(CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressApply?"+from_quiz,{pids:a,loan_limit:CONST.LOAN_LIMIT||$.cookie("b_loan_limit")||CONST.DEFAULT_LOAN_LIMIT,loan_term:CONST.LOAN_TERM||$.cookie("b_loan_term")||12,rongid:CONST.RONGID,area:i},function(t){e.isfetching=!1,s.remove();var n=t.msg,i=t.data;if("jump_to_certification"==n){var a={certlist:i.certlist};Event_Bus.trigger("NeedCertification",a)}else if("express_check_fail"==n||"permit_or_ask_error"==n)e.collection.IS_MULT_SELECT&&$.log({page_name:"new_zhitongche_wapExpressRecommendRegFail"}),$.log({page_name:"new_zhitongche_express_check_fail",fr:"new_zhitongche",rf_page_name:"new_zhitongche",rongid:CONST.RONGID}),new Tip(t.data.desc,function(){Event_Bus.trigger("Express_Recommend_Apply_Fail",i)});else if("p2p_push_order_fail"==n)new Tip("抱歉，提交贷款申请过程中遇到问题。点击确定查看其他贷款。",function(){new Loading,window.location.href=CONST.LINK_PROTOCOL+"m.rong360.com/daikuan"});else if("apply_success"==n){"express"==CONST.SRC&&sa.track("express_apply_success");try{TuiaAdverter.init(function(){},{location:"apply_success"})}catch(o){}try{sendjrtttj()}catch(o){}try{sendBaidu()}catch(o){}if("pinyou"==CONST.UTM_SOURCE&&"express"==CONST.SRC&&(py("set","mapping","0"),py("event","register","").track("fc.r3h.hR3qE3siurSdfMMAPRvtOX")),i&&i.hasOwnProperty("online_process"))new Loading,window.location.href="https://m.rong360.com/isonline";else if(i.goto_url)sa.track("order_apply_success",{from:CONST.SRC,type:"p2p"}),new Loading,window.location.href=i.goto_url;else if(i.hasOwnProperty("is_stdpro_jump")&&1==i.is_stdpro_jump&&i.hasOwnProperty("stdpro_jump_url"))sa.track("stdpro_jump",{from:CONST.SRC}),new Loading,window.location.href=i.stdpro_jump_url;else if("reg"!==CONST.SRC?(Event_Bus.trigger("Express_Recommend_Apply_Success",i),$.log({page_name:"new_zhitongche_express_apply_success",fr:"new_zhitongche",rf_page_name:"new_zhitongche",rongid:CONST.RONGID})):Event_Bus.trigger("Apply_Success",i),i.hasOwnProperty("order_ids")){try{sendjrtttj_standard()}catch(o){}sa.track("order_apply_success",{order_ids:i.order_ids.join(","),from:CONST.SRC,type:"standard"})}}else"contact_banker_form"==n?Event_Bus.trigger("Contact_Banker_Form"):("ppd_check_spam_uid_same_error"==n||"antispam_error"==n)&&new Tip(t.data.desc,function(){Event_Bus.trigger("Go_To_Mouse_Point",i)})}),$.log(1==e.collection.IS_DOUDI?{page_name:"new_reg_product",ext:{product_type:"p2p",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}:{page_name:"new_reg_product",ext:{product_type:"standard",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,count:l,suc_count:r,apply_count:c}})}1==n&&"1b37815fihnotsig"==t[0].get("str_id")&&$.log({page_name:"new_zhitongche_ppdreg"})}},hide:function(){this.$el.hide()},show:function(){this.$el.show()}});module.exports={RecommendListView:RecommendListView,RecommendListCollection:RecommendListCollection,RecommendView:RecommendView,RecommendModel:RecommendModel}});
;define("m_order_flow:infoalert",function(require,exports,module){var RecommendModule=require("m_order_flow:recommend"),InfoAlertView=Backbone.View.extend({attributes:{view:"info_alert"},tagName:"div",template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="\n",apply_products&&apply_products.length>0&&(__p+="\n	",_.each(apply_products,function(e,n){if(__p+="\n		",e.apply_status&&1==e.apply_status){__p+='\n			<div class="product">\n			    <div class="p-main ',0!=n||"undefined"!=typeof successRecommendProducts&&successRecommendProducts.list||(__p+="p-extend"),__p+='">  \n			        ';var i=e.product_base_info.logo_icon_image_name?CONST.static_domain+"/"+e.product_base_info.logo_icon_image_name:"/static/img/default_bank_logo.png";__p+='  \n			        <div class="icon"><img src="'+(null==(__t=i)?"":__t)+'"></div>      \n			        <div class="detail">       \n			            <p class="title">'+(null==(__t=e.product_base_info.bank_org_name)?"":__t)+"-"+(null==(__t=e.product_base_info.name)?"":__t)+'</p>\n			            <p class="desc">'+(null==(__t=e.product_base_info.bank_name)?"":__t)+"</p>\n			        </div>\n			        ",0!=n||"undefined"!=typeof successRecommendProducts&&successRecommendProducts.list||(__p+="\n			        <div class=\"zhima\"><img src='//static.rong360.com/upload/png/e1/24/e1246dc419d9c92bddf120ecbc43f0b3.png'>加速放款</div>  \n		          	"),__p+="\n			    </div>\n			</div>\n		"}__p+="\n	"}),__p+="\n"),__p+="\n	\n","undefined"!=typeof successRecommendProducts&&successRecommendProducts.list&&(__p+='\n	<div wrap="t8 h6" class="recommend_title">再申请其他产品可提高贷款成功率（'+(null==(__t=loan_limit)?"":__t)+"万/"+(null==(__t=loan_term)?"":__t)+'个月）</div>\n	<div class="recommend recommend-list" wrap="h6">\n	</div>\n\n	<div wrap="h6">\n        <a class="ui-btn doReg blue">选好了，帮我申请</a>\n    </div>\n'),__p+='\n\n<div class="sitnavbar">\n	',"undefined"!=typeof successRecommendProducts&&successRecommendProducts.list?__p+='\n		<img  class="rectipimg" src="//static.rong360.com/upload/png/23/8e/238e3163becc2d9871ea0f709ebed0ad.png" width="100%">\n	':(__p+="\n		","undefined"!=typeof successRecommendProducts&&successRecommendProducts.list&&0!=successRecommendProducts.list||(__p+='\n			<div class="ui-tip">APP支持极速贷款，10分钟内￥5000到账</div>	\n		'),__p+='\n		<div>\n			<img class="norectipimg" src="//static.rong360.com/upload/png/f5/69/f5690e101d7a3a7b81a9892c54165bb0.png">\n			<a class="ui-btn yellow">免费下载</a>\n		</div>\n		<div class="app-download">\n			<h3>APP支持极速贷款，10分钟内￥5000到账</h3>\n			<img src="//static.rong360.com/upload/png/ed/a4/eda4e5d15dd3e9acfa6b062ec784c69c.png" alt="" class="appDownLoad-img">\n		</div>\n	'),__p+="\n</div>\n\n\n";return __p},initialize:function(e){this.viewname="infoalert",this.model=e.model,this.listview=[],this.render(),this.isfetching=!1},render:function(){var e=componentfactory("titlebar"),n=new e("","申请已提交",!0);this.$el.append(n._dom);var i=this.model.attributes,o=$(this.template(i));this.$el.append(o),!i.apply_products||!i.apply_products.length||"undefined"!=typeof i.successRecommendProducts&&i.successRecommendProducts.list||$.log({page_name:"order_success_zhima_show"});var t=!1,s=$.cookie("__utmz"),a=s.indexOf("utmcsr"),r=s.indexOf("utmcmd"),c=parseInt($.cookie("abclass").split("_")[1]);if(a>-1&&r>-1){var d=s.substr(a),_=s.substr(r),l=d.indexOf("="),p=d.indexOf("|"),m=_.indexOf("="),u=_.indexOf("|");if(p>-1)var g=d.substring(l+1,p);else var g=d.substring(l+1);if(u>-1)var f=_.substring(m+1,u);else var f=_.substring(m+1);var h=window.navigator.userAgent.toLowerCase();if("weixin"!=g&&"rong360weixin"!=f&&"micromessenger"==h.match(/MicroMessenger/i)){t=!0;var w=componentfactory("weixin");c%2==1?"tx"!=g||"gdt3"!=f&&"gdt4"!=f&&"gdt5"!=f&&"gdt6"!=f&&"gdt7"!=f||(sa.track("loan_weixin_popup",{type:"fixedqrcode_popup",from:"bd_order",gzh_name:"wanqian"}),$.log({page_name:"weixin_test_wanqian"}),new w(2)):(sa.track("loan_weixin_popup",{type:"bindqrcode_popup",from:"bd_order",gzh_name:"r360wx"}),$.log({page_name:"toufang_popup_weixin_rong360"}),new w(1))}}if(!t&&i.VRBankerMobile){$.log({page_name:"virtual_number_alert"});var v=componentfactory("vrmobile");new v({phone:i.VRBankerMobile})}this.processmorerecommend(),$(".MiniWrap").append(this.$el),$.cookie("inapp")&&!$("[view=info_alert] .recommend-list").length&&$("[view=info_alert]").append("<div class='subt-info'><p class='p1'>已成功提交申请</p><p class='p2'>请保持手机畅通，信贷经理将会在十分钟内联系您！</p></div>")},rerender:function(){this.$el.empty(),this.$el.remove(),this.listview.length=0,this.render()},events:{"click .doReg":function(){var e=this.verify();e&&this.productReg()},"click .sitnavbar":function(){$.log({page_name:"new_zhitongche_ad_click"});try{$.ajax({type:"GET",url:"/mapi/loan/logTaojinyun",data:{rongid:CONST.RONGID,loanterm:CONST.LOAN_TERM,loanlimit:CONST.LOAN_LIMIT},dataType:"json",success:function(){}})}catch(e){}setTimeout(function(){window.open("//m.rong360.com/app/osdown/?ios=https%3A%2F%2Fitunes.apple.com%2Fcn%2Fapp%2Frong360-di-xi-ji-su-dai-kuan%2Fid1026689855%3Fmt%3D8&android=http%3A%2F%2Fwww.rong360.com%2Fdl%2Frong360-c_daikuan_apply-release.apk&weixin=&from=daikuan_apply","_self")},200)},"click .zhima":function(){$.log({page_name:"order_success_zhima_click"}),setTimeout(function(){window.location.href="//m.rong360.com/zhima/zmxy?ventor=express"},500)}},processmorerecommend:function(){if(this.model.get("successRecommendProducts")){var e=this;this.collectionmore=new RecommendModule.RecommendListCollection,this.collectionmore.IS_MULT_SELECT=this.model.get("mult_select");var n=this.model.attributes.hasOwnProperty("isDoudi");this.collectionmore.IS_DOUDI=n,this.listenTo(this.collectionmore,"add",this.addmorerecommend),_.each(this.model.get("successRecommendProducts").list,function(i){var i=_.extend(i,{is_doudi:n}),o=new RecommendModule.RecommendModel(i);e.collectionmore.add(o)}),sa.track("infoalert_show",{is_yidanduotui:!0})}else sa.track("infoalert_show",{is_yidanduotui:!1})},addmorerecommend:function(e){var n=new RecommendModule.RecommendView({model:e});this.listview.push(n),this.$el.find(".recommend-list").append(n.$el)},verify:function(){var e=!0,n=this.collectionmore.where({selected:!0});0==n.length&&(new Tip("请至少点击一款产品进行申请"),e=!1);for(var i=this.listview.length-1;i>=0;i--){var o=this.listview[i];if(1==o.model.get("selected")&&!o.verify()){e=!1;break}}return e},show:function(){this.$el.show()},hide:function(){this.$el.hide()},productReg:function(){if(!this.isfetching){var e=this,n=this.collectionmore.where({selected:!0}),i=n.length;if(1==i&&n[0].get("is_taojinyun"))sa.track("order_apply_success",{from:CONST.SRC,type:"taojinyun"}),new Loading,window.location.href=n[0].get("taojinyun_url");else{for(var o,t=new Loading,s=[],a=[],r=this.listview.length-1;r>=0;r--){var c=this.listview[r];1==c.model.get("selected")&&(s.push(c.model.get("str_id")+"-"+(c.model.get("banker_id")?c.model.get("banker_id"):"")),o=c.model.get("area"),a.push(c.getformdata()))}from_quiz=a.join("&"),s=s.join(","),e.isfetching=!0,$.getJSON(CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressApply?"+from_quiz,{pids:s,loan_limit:CONST.LOAN_LIMIT||$.cookie("b_loan_limit")||CONST.DEFAULT_LOAN_LIMIT,loan_term:CONST.LOAN_TERM||$.cookie("b_loan_term")||12,rongid:CONST.RONGID,area:o},function(n){e.isfetching=!1,t.remove();var i=n.msg,o=n.data;if("express_check_fail"==i)e.collectionmore.IS_MULT_SELECT&&$.log({page_name:"new_zhitongche_wapExpressRecommendRegFail"}),$.log({page_name:"new_zhitongche_express_check_fail",fr:"zhitongche",rf_page_name:"zhitongche",rongid:CONST.RONGID}),new Tip(n.data.desc,function(){Event_Bus.trigger("Express_Recommend_Apply_Fail",o)}),"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_fail"});else if("p2p_push_order_fail"==i)new Tip("抱歉，提交贷款申请过程中遇到问题。点击确定查看其他贷款。",function(){new Loading,window.location.href=CONST.LINK_PROTOCOL+"m.rong360.com/daikuan"});else if("apply_success"==i){"express"==CONST.SRC&&sa.track("express_apply_success");try{TuiaAdverter.init(function(){},{location:"apply_success"})}catch(s){}try{sendjrtttj()}catch(s){}try{sendBaidu()}catch(s){}if("express"==CONST.SRC&&"pinyou"==CONST.UTM_SOURCE&&(py("set","mapping","0"),py("event","register","").track("fc.r3h.hR3qE3siurSdfMMAPRvtOX")),o&&o.hasOwnProperty("online_process"))new Loading,window.location.href="https://m.rong360.com/isonline";else if(o.goto_url)sa.track("order_apply_success",{from:CONST.SRC,type:"p2p"}),new Loading,window.location.href=o.goto_url;else if(o.hasOwnProperty("is_stdpro_jump")&&1==o.is_stdpro_jump&&o.hasOwnProperty("stdpro_jump_url"))sa.track("stdpro_jump",{from:CONST.SRC}),new Loading,window.location.href=o.stdpro_jump_url;else if(Event_Bus.trigger("Express_Recommend_Apply_Success",o),$.log({page_name:"new_zhitongche_express_apply_success",fr:"zhitongche",rf_page_name:"zhitongche",rongid:CONST.RONGID}),o.hasOwnProperty("order_ids")){try{sendjrtttj_standard()}catch(s){}sa.track("order_apply_success",{order_ids:o.order_ids.join(","),from:CONST.SRC,type:"standard"})}"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_success"})}})}}}});module.exports={InfoAlertView:InfoAlertView}});
;define("m_order_flow:fangdaiquiz",function(require,exports,module){var Fangdai_Quiz=Backbone.View.extend({tagName:"div",attributes:{view:"fangdai"},template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="titlebar">\n    <div class="left">\n        <a href="/" style="visibility:hidden;"><i class="back"></i></a>\n    </div>\n    <h1 class="center">填写个人信息</h1>\n    <div class="right">\n        <a class="btn" href="/"><i class="home"></i></a>\n    </div>\n</div>\n<div class="ui-block">\n    <div class="title">告诉我你的基本情况吧！</div>\n    <div class="body"> \n    <div class="qask-list form-wrap" wrap="h15 b15">\n        <form id="fangdaiQaskForm">\n        <div class="form-wrap">\n            <div class="base_question_list clearfix">\n                ',!isBaozhengDai){if(__p+='\n                <div class="field-wrap" data-field="city_id">\n                    <label class="label question loan_label">房屋所在城市</label>\n                    <div class="field options question_values">\n                        <input type="hidden" name="area" value='+(null==(__t=CONST.GET_AREA)?"":__t)+'/>\n                        <div class="ui-select">\n                            ',qask_history.city_id){__p+="\n                                ";var currentName="";__p+="\n                                ";for(var cityItem in cityList){if(__p+="\n                                    ",qask_history.city_id==cityList[cityItem].id){__p+="\n                                        ",currentName=cityList[cityItem].name,__p+="\n                                        ";break}__p+="\n                                "}__p+="\n                                ";var citySel="yes";__p+='\n                                <div class="value-bar" data-value=\''+(null==(__t=qask_history.city_id)?"":__t)+'\' maxlength="7">'+(null==(__t=currentName)?"":__t)+"</div>\n                            "}else{__p+="\n                                ";var citySel="no";__p+='\n                                <div class="value-bar" maxlength="7">请选择</div>\n                            '}__p+='\n                            <select name="city_id" id="city_id_inp" check-status="'+(null==(__t=citySel)?"":__t)+'">\n                                <option value="">请选择</option>\n                                ';for(var cityItem in cityList){__p+="\n                                    ";var current=qask_history.city_id&&qask_history.city_id==cityList[cityItem].id?"selected":"";__p+="\n                                    ",cityList[cityItem].id&&(__p+='\n                                        <option value="'+(null==(__t=cityList[cityItem].id)?"":__t)+'" '+(null==(__t=current)?"":__t)+">"+(null==(__t=cityList[cityItem].name)?"":__t)+"</option>\n                                    "),__p+="\n                                "}__p+='\n                            </select>\n                        </div>\n                        <div class="error">请回答以下问题</div>\n                    </div>\n                </div>\n                '}if(__p+='\n                <div class="field-wrap" data-field="loan_limit">\n                    <label class="label question loan_label">总贷款金额</label>\n                    <div class="field options question_values">\n                        <div class="ui-text" data-tail="万元">\n                            <input type="text" name="loan_limit" value="'+(null==(__t=qask_history.loan_limit)?"":__t)+'" check-status="'+(null==(__t=qask_history.loan_limit?"yes":"no")?"":__t)+'"/>\n                        </div>\n                        <div class="error">请回答以下问题</div>\n                    </div>\n                </div>\n                <div class="field-wrap" data-field="loan_term">\n                    <label class="label question loan_label">贷款年限</label>\n                    <div class="field options question_values">\n                        <div class="ui-select">\n                            ',__p+=qask_history.loan_term?'\n                                <div class="value-bar" data-value=\''+(null==(__t=qask_history.loan_term)?"":__t)+'\' maxlength="7">'+(null==(__t=qask_history.loan_term)?"":__t)+"年</div>\n                            ":'\n                                <div class="value-bar" maxlength="7">请选择</div>\n                            ',__p+='\n                            <select name="loan_term" check-status="'+(null==(__t=qask_history.loan_term?"yes":"no")?"":__t)+'">\n                                <option value="">请选择</option>\n                                <option value="30" ',"30"==qask_history.loan_term&&(__p+="selected"),__p+=' >30年</option>\n                                <option value="25" ',"25"==qask_history.loan_term&&(__p+="selected"),__p+=' >25年</option>\n                                <option value="20" ',"20"==qask_history.loan_term&&(__p+="selected"),__p+=' >20年</option>\n                                <option value="15" ',"15"==qask_history.loan_term&&(__p+="selected"),__p+=' >15年</option>\n                                <option value="10" ',"10"==qask_history.loan_term&&(__p+="selected"),__p+=' >10年</option>\n                                <option value="5" ',"5"==qask_history.loan_term&&(__p+="selected"),__p+=' >5年及以下</option>\n                            </select>\n                        </div>\n                        <div class="error">请回答以下问题</div>\n                    </div>\n                </div>\n                ',!isBaozhengDai){if(__p+='\n                <div class="field-wrap" data-field="house_type">\n                    <label class="label question loan_label">房屋类型</label>\n                    <div class="field options question_values">\n                        <div class="ui-select">\n                            ',qask_history.house_type){__p+="\n                                ";var currentName="";__p+="\n                                ";for(var houseType in house_type_list){if(__p+="\n                                    ",qask_history.house_type==houseType){__p+="\n                                        ",currentName=house_type_list[houseType],__p+="\n                                        ";break}__p+="\n                                "}__p+='\n                                <div class="value-bar" data-value=\''+(null==(__t=qask_history.house_type)?"":__t)+'\' maxlength="7">'+(null==(__t=currentName)?"":__t)+"</div>\n                            "}else __p+='\n                                <div class="value-bar" maxlength="7">请选择</div>\n                            ';__p+='\n                            <select name="house_type" check-status="'+(null==(__t=qask_history.house_type?"yes":"no")?"":__t)+'">\n                                <option value="">请选择</option>\n                                ';for(var houseType in house_type_list){__p+="\n                                ";var current=qask_history.house_type==houseType?"selected":"";__p+='\n                                <option value="'+(null==(__t=houseType)?"":__t)+'" '+(null==(__t=current)?"":__t)+">"+(null==(__t=house_type_list[houseType])?"":__t)+"</option>\n                                "}__p+='\n                            </select>\n                        </div>\n                        <div class="error">请回答以下问题</div>\n                    </div>\n                </div>\n                <div class="field-wrap" data-field="is_secondhand">\n                    <label class="label question loan_label">是否为二手房</label>\n                    <div class="field options question_values">\n                        <div class="ui-select">\n                            ',qask_history.is_secondhand?(__p+='\n                                <div class="value-bar" data-value=\''+(null==(__t=qask_history.is_secondhand)?"":__t)+'\' maxlength="7">',"1"==qask_history.is_secondhand?__p+="新房":"2"==qask_history.is_secondhand&&(__p+="二手房"),__p+="</div>\n                            "):__p+='\n                                <div class="value-bar" maxlength="7">请选择</div>\n                            ',__p+='\n                            <select name="is_secondhand" check-status="'+(null==(__t=qask_history.is_secondhand?"yes":"no")?"":__t)+'">\n                                <option value="">请选择</option>\n                                <option value="1" ',"1"==qask_history.is_secondhand&&(__p+="selected"),__p+=' >新房</option>\n                                <option value="2" ',"2"==qask_history.is_secondhand&&(__p+="selected"),__p+=' >二手房</option>\n                            </select>\n                        </div>\n                        <div class="error">请回答以下问题</div>\n                    </div>\n                </div>\n                <div class="field-wrap" style="',"2"!=qask_history.is_secondhand&&(__p+="display:none;"),__p+='" id="secondhand_years_wrap">\n                    <label class="label question loan_label">二手房房龄</label>\n                    <div class="field question_values">\n                        <div class="ui-text" data-tail="年">\n                            <input type="text" id="secondhand_years" name="secondhand_years" ',"2"!=qask_history.is_secondhand&&(__p+="disabled"),__p+=' class="num txt"  value="'+(null==(__t=qask_history.secondhand_years)?"":__t)+'"/>\n                        </div>\n                        <div class="error">请回答以下问题</div>\n                    </div>\n                </div>\n                '}__p+='\n            </div>\n        </div>\n        </form>\n    </div>\n    <div wrap="h6 v10">\n        <a class="ui-btn blue">下一步</a>\n    </div>\n    <br>\n    <br>    \n    </div>\n</div>'}return __p},initialize:function(e){this.params={application_type:CONST.APPLICATION_TYPE||9,product_id:CONST.PRODUCT_ID,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,permit_fail:CONST.PERMIT_FAIL,rongid:CONST.RONGID,banker_id:CONST.BANKER_ID,area:CONST.GET_AREA||0},this.viewData=e.data,this.render()},render:function(){var e=this.template(this.viewData);this.$el.append($(e)),$(".MiniWrap").append(this.$el)},events:{"change [name='house_type'],[name='loan_term'],[name='is_secondhand'],[name='city_id']":function(e){var a=$(e.target);a.parents("[data-field]").find(".error").hide();var n=a.find("option").not(function(){return!this.selected}),t=a.parents(".ui-select").find(".value-bar");maxLength=t.attr("maxlength"),_name=n.parent().attr("name"),_value=n.val(),_text=n.text(),_text=maxLength&&maxLength<_text.length?_text.substring(0,maxLength)+"...":_text,""!=_value&&a.attr("check-status","yes"),t.attr("data-value",_value),t.html(_text),""==_value&&t.removeAttr("data-value"),"is_secondhand"==_name&&2==_value?($("#secondhand_years_wrap").show(),$("[name='secondhand_years']").removeAttr("disabled")):($("#secondhand_years_wrap").hide(),$("[name='secondhand_years']").attr("disabled","disabled"))},"input [name='secondhand_years'],[name='loan_limit']":function(e){var a=$(e.target);t=a.val(),""!=t&&a.attr("check-status","yes"),a.parents("[data-field]").find(".error").hide();var n=a.attr("name"),t=a.val();this.params[n]=t},"click .ui-btn":function(){$.superForm=function(e){var a={_fields:$(e).find("[data-field]"),check:function(e){var n=[],e=e?e:{not:""};$(a._fields).each(function(a,t){var i=$(t).data("field"),s=$(t).find('[name="'+i+'"]');if("yes"==s.attr("check-status")||i==e.not)n.push(1);else{if(""==s.val()){var _=s.parents("[data-field]").find("label").html();s.parents("[data-field]").find(".error").show().html(_+"不能为空")}n.push(0)}});var t=n.join("").indexOf("0")>-1?!1:!0;return t}};return a};var e=$.superForm("#fangdaiQaskForm").check();if(e){for(var a=$("#fangdaiQaskForm").serializeArray(),n={},t=0;t<a.length;t++)n[a[t].name]=a[t].value;var i=$.extend(this.params,n);Event_Bus.trigger("Fangdai_Quiz_Done",i)}}},show:function(){this.$el.show()},hide:function(){this.$el.hide()}});module.exports=Fangdai_Quiz});
;define("m_order_flow:mouse_point",function(require,exports,module){var Mouse_Point=Backbone.View.extend({tagName:"div",attributes:{view:"mouse_point"},template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="titlebar">\n    <h1 class="center">获得人工服务</h1>\n    <div class="right">\n        <a class="btn" href="/"><i class="home"></i></a>\n    </div>\n</div>\n\n<div class="ui-tip" wrap="b8">抱歉，没有找到适合您的贷款。建议留下您的贷款需求信息，我们可以为您寻找可以帮您办理的机构。</div>\n<div id="mouser_form_inputs" wrap="h6 t8">\n    <div class="ui-block">\n        <div class="body">\n            <div class="filed" wrap="t8 h6">\n                <span class="ui-text">\n                    <label>姓名</label>\n                    <input name="name" type="text" required="required" value="'+(null==(__t=CONST.user_name)?"":__t)+'" />                    \n                </span>\n            </div>  \n            <div class="filed" wrap="t8 h6">\n                <span class="ui-text">\n                    <label>电话</label>\n                    <input name="phone" type="phone" required="required" maxlength="11" value="'+(null==(__t=CONST.user_mobile)?"":__t)+'" />                    \n                </span>\n            </div>  \n            <div class="filed vcode-wrap grid" wrap="t8 h6"> \n                <span class="item">\n                    <span class="ui-text">\n                        <label>验证码: </label>\n                        <input type="number" name="vcode" required="required" />                        \n                    </span>    \n                </span>\n                <span class="code-wrap">\n                    <img style="vertical-align:bottom;" src="/mapi/loan/vcodecreate?rongid='+(null==(__t=CONST.RONGID)?"":__t)+'&type=human_recommend" ontouchend="this.src=this.src">\n                </span>\n            </div>\n        </div>\n    </div>\n</div>    \n<div wrap="h15" id="mousePointSubmit">    \n    <div class="ui-button">\n        <input value="让办理的机构联系我" type="button" class="btn blue" />\n    </div>\n</div>\n',$.os.android&&(__p+='\n<p>\n    <a href="//www.rong360.com/dl/fastlend_disney.apk">\n        <img width="100%" src="//www.rong360.com/gl/uploads/allimg/150128/1_1608383681.png">\n    </a>\n</p>\n'),__p+="";return __p},initialize:function(){this.viewname="mouse_point",this.render()},render:function(){this.has_user_info=!1;var n=$(this.template());this.$el.append(n);var e=this;$(".MiniWrap").append(this.$el),$.ajax({type:"GET",url:"/mapi/loan/checkApplyInfo",async:!1,data:{rongid:CONST.RONGID},dataType:"json",success:function(n){"has_user_info"==n.msg&&($("#mouser_form_inputs").hide(),e.has_user_info=!0)}})},events:{"click #mousePointSubmit":function(){this.has_user_info?this.submit():this.verify()&&this.submit()}},submit:function(){var n=new Loading;$.ajax({type:"POST",url:"/mapi/loan/human",dataType:"json",data:{rongid:CONST.RONGID,mobile:this.$el.find('[name="phone"]').val(),user_name:this.$el.find('[name="name"]').val(),verify_code:this.$el.find('[name="vcode"]').val()},success:function(e){n.remove(),0==e.error?new Tip(e.data.desc,function(){new Loading,window.location.href="//m.rong360.com/zhima/dsn_m"}):(new Tip(e.data.desc),$("#ImgCode").attr("src",$("#ImgCode").attr("src")))}})},hide:function(){this.$el.hide()},show:function(){this.$el.show()},verify:function(){var n=!0,e=parseInt(this.$el.find('[name="phone"]').val()),i=/^1\d{10}$/.test(e);return this.$el.find('[name="name"]').val()?this.$el.find('[name="phone"]').val()?i?this.$el.find('[name="vcode"]').val()||(new Tip("图片验证码不能为空!"),n=!1):(new Tip("手机号格式有误!"),n=!1):(new Tip("手机号不能为空!"),n=!1):(new Tip("用户名不能为空!"),n=!1),n}});module.exports=Mouse_Point});
;define("m_order_flow:jisudai",function(require,exports,module){var Jisudai=Backbone.View.extend({tagName:"div",attributes:{view:"jisudai"},template:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="jsd-main">\r\n	<p class="choose">请选择需要贷款的业务</p>\r\n	<ul>\r\n		<li class="jsd">\r\n			<div class="header l-border">\r\n				<div class="hd lightgreen">\r\n					<div class="jsd-icon rocket"></div>			\r\n				</div>\r\n				<p class="margin-05">自助贷款</p>\r\n			</div>\r\n			<div class="content l-border">\r\n				<p>\r\n					<span class="digital">5000</span>\r\n					<span class="unit">元</span>\r\n					<span class="tail">上限</span>\r\n				</p>\r\n				<p class="margin-2t margin-2b">\r\n					<span class="digital">1</span>\r\n					<span class="unit">小时</span>\r\n					<span class="tail">放款</span>\r\n				</p>\r\n				<p class="tail margin-2t">自主提交身份证资料</p>\r\n				<p class="tail margin-2b">完全在线申请</p>\r\n				<div class="ui-btn blue apply">申请贷款</div>\r\n			</div>\r\n		</li><!--\r\n		--><li class="traditional">\r\n			<div class="header">\r\n				<div class="hd lightblue">\r\n					<div class="jsd-icon court"></div>				\r\n				</div>\r\n				<p class="margin-05">高额贷款</p>\r\n			</div>\r\n			<div class="content">\r\n				<p>\r\n					<span class="digital">300万</span>\r\n					<span class="unit">元</span>\r\n					<span class="tail">上限</span>\r\n				</p>\r\n				<p class="margin-2t margin-2b">\r\n					<span class="digital">48</span>\r\n					<span class="unit">小时</span>\r\n					<span class="tail">放款</span>\r\n				</p>\r\n				<p class="tail margin-2t">信贷经理全程服务</p>\r\n				<p class="tail margin-2b">需当面办理</p>\r\n				<div class="ui-btn blue apply">申请贷款</div>\r\n			</div>\r\n		</li>\r\n	</ul>\r\n</div>';return __p},initialize:function(a){var n=this;n.viewname="jisudai",n.data=a,n.OrderStatus=require("m_order_flow:order_status"),this.render()},render:function(){var a=componentfactory("titlebar"),n=new a("#expressqz","<i class='logo-tip2' data-text='贷款'></i>",!1);this.$el.append(n._dom);var s=$(this.template());this.$el.append(s),$(".MiniWrap").append(this.$el)},events:{"click .backto":function(){$.log({page_name:"quick_loan_click_ back"}),this.OrderStatus({msg:"apply_express"})},"click .jsd":function(){var a=this,n=a.data;$.log({page_name:"quick_loan_click_ online"}),n.type?n.url?window.location.href=a.data.url:a.productReg():a.OrderStatus({msg:"apply_express"})},"click .traditional":function(){$.log({page_name:"quick_loan_click_ offline"}),this.OrderStatus({msg:"apply_express"})}},show:function(){this.$el.show()},hide:function(){this.$el.hide()},productReg:function(){var a=this,n=a.data;$.getJSON(CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressApply?",{pids:n.pid+"-"+n.banker_id,loan_limit:CONST.LOAN_LIMIT||$.cookie("b_loan_limit")||CONST.DEFAULT_LOAN_LIMIT,loan_term:CONST.LOAN_TERM||$.cookie("b_loan_term")||12,rongid:CONST.RONGID,area:"0",recommendFrom:"",applyFrom:"quick_loan"},function(n){if("apply_success"==n.msg){"pinyou"==CONST.UTM_SOURCE&&"express"==CONST.SRC&&(py("set","mapping","0"),py("event","register","").track("fc.r3h.hR3qE3siurSdfMMAPRvtOX"));try{sendBaidu()}catch(s){}try{TuiaAdverter.init(function(){},{location:"apply_success"})}catch(s){}n.data.goto_url?(sa.track("order_apply_success",{from:CONST.SRC,type:"p2p"}),window.location.href=n.data.goto_url):a.OrderStatus({msg:"apply_express"})}else a.OrderStatus({msg:"apply_express"})})}});module.exports=Jisudai});
;define("m_order_flow:certification",function(require,exports,module){var CertModel=Backbone.Model.extend({defaults:{viewTags:[]},initialize:function(t){this.set({certCount:t.certlist.length,showCheckbox:t.certlist.every(function(t){return 2!=t.status}),polling:t.certlist.some(function(t){return 1==t.status}),selected:!1,btnActive:this.selected||t.certlist.some(function(t){return 2==t.status})})}}),CertView=Backbone.View.extend({tagName:"div",className:"certifications",attributes:{view:"certifications"},template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="tip">\n',__p+=1==certCount?"\n必须完成以下认证，才可以申请贷款\n":"\n必须完成以下任意一项认证，才可以申请贷款\n",__p+='\n</div>\n<div class="cert-wrap" style="',1==certCount&&(__p+="margin-top:0.5333333333333333rem;"),__p+='">\n';for(var i=0,j=certlist.length;j>i;i++){__p+="\n  	";var cert=certlist[i];__p+='\n	<div class="cert-item" data-status="'+(null==(__t=cert.status)?"":__t)+'" data-url="'+(null==(__t=cert.url)?"":__t)+'" data-id="'+(null==(__t=cert.id)?"":__t)+'">\n		<img class="cert-icon" src="'+(null==(__t=cert.icon)?"":__t)+'" alt="">\n		<div class="cert-name">'+(null==(__t=cert.name)?"":__t)+'</div>\n		<div class="cert-status ',__p+=2==cert.status||5==cert.status?"done":"undone",__p+='">',2==cert.status&&(__p+='<img src="https://static.rong360.com/upload/png/25/33/2533d2933a504f5dc9d02fe5a3ef024b.png" />'),__p+=""+(null==(__t=cert.desc)?"":__t)+'</div>\n		<i class="icon-option arrow"></i>\n	</div>\n'}__p+=" 	\n</div>\n",showCheckbox&&(__p+='\n<div class="ignore">\n	<span class="chk ',__p+=selected?"chk-active":"chk-inactive",__p+='"></span><span>以上认证均无法完成，请为我推荐其他贷款</span>\n</div>\n'),__p+='\n\n<div class="ui-button">\n	<input value="下一步" type="button" class="btn ',__p+=btnActive?"blue":"grey",__p+='" />\n</div>'}return __p},initialize:function(t){this.originview=t.originview,this.model=t.model,this.listenTo(this.model,"change:selected",this.toggleSelect),this.listenTo(this.model,"change:showCheckbox",this.changeChk),this.listenTo(this.model,"change:btnActive",this.changeBtn),this.viewname="certification",this.timer=null,this.isPolling=!1,this.render()},render:function(){var t=this,e=componentfactory("titlebar"),i=new e("javascript:window.history.go(-1)","填写个人信息",!1);if(this.$el.append(i._dom),"reg"==CONST.SRC){var n=this.model.get("viewTags");if(n.length>1){var s=componentfactory("navbar"),a=new s(n,n.length-2);this.$el.append(a._dom)}}var r=this.model.attributes,o=this.template(r);this.$el.append(o),$(".MiniWrap").append(this.$el),r.certlist.forEach(function(t){t.name.indexOf("公积金")>-1&&$.log({page_name:"new_qask_meterial_fund_on",ext:{src:CONST.SRC,status:2==t.status?"done":"undone"}}),t.name.indexOf("社保")>-1&&$.log({page_name:"new_qask_meterial_insure_on",ext:{src:CONST.SRC,status:2==t.status?"done":"undone"}})}),this.model.get("polling")&&(this.timer=setInterval(function(){t.startPolling()},5e3))},events:{"click .ignore":function(){var t,e=$(".chk");e.hasClass("chk-inactive")?(t=!0,e.removeClass("chk-inactive").addClass("chk-active")):(t=!1,e.removeClass("chk-active").addClass("chk-inactive")),this.model.set({selected:t})},"click .cert-item":function(t){var e=t.currentTarget,i=e.dataset,n=$(e),s=n.find(".cert-name").text().indexOf("公积金")>-1;if($.log(s?{page_name:"new_qask_meterial_fund_click",ext:{status:2==i.status?"done":"undone",src:CONST.SRC}}:{page_name:"new_qask_meterial_insure_click",ext:{status:2==i.status?"done":"undone",src:CONST.SRC}}),2!=i.status&&1!=i.status){this.stopPolling();var a=new Loading;$.ajax({type:"POST",url:"/mainapi/mainwebcra/webCrawler?rongid="+(CONST.RONGID||$.cookie("RONGID")),data:{policy_id:i.id},dataType:"json",success:function(t){t.status?location.href=t.data.crawler_url:new Tip(t.msg)},complete:function(){a.remove()}})}},"click .btn":function(t){var e=$(t.currentTarget);if(!e.hasClass("grey")){this.stopPolling();var i={},n=[];$(".cert-wrap .cert-item").forEach(function(t){var e=t.dataset;n.push(e.id+"-"+e.status)}),i.certs=n.join(","),$(".ignore").length&&(i.ignore=$(".ignore .chk").hasClass("chk-active")),$.log({page_name:"new_qask_meterial_next",ext:{src:CONST.SRC,type:i.ignore?"skip":"submit"}}),Event_Bus.trigger("CertDone",i)}}},toggleSelect:function(){var t=this.model.get("selected"),e=this.$el.find(".btn");t?e.removeClass("grey").addClass("blue"):e.removeClass("blue").addClass("grey")},changeChk:function(){var t=this.model.get("showCheckbox");t&&$(".ignore").show(),!t&&$(".ignore").hide()},changeBtn:function(){var t=this.model.get("btnActive"),e=this.$el.find(".btn");t&&e.removeClass("grey").addClass("blue"),!t&&e.removeClass("blue").addClass("grey")},startPolling:function(){var t=this;t.isPolling||(t.isPolling=!0,$.ajax({type:"POST",url:"/mainapi/mainwebcra/ExpressCertPolling?rongid="+(CONST.RONGID||$.cookie("RONGID")),dataType:"json",success:function(e){if(e.status){var i=e.data.certlist;i.every(function(t){return 1!=t.status})&&t.stopPolling();var n=i.some(function(t){return 2==t.status}),s=i.every(function(t){return 2!=t.status});t.model.set({btnActive:n,showCheckbox:s}),i.map(function(t){var e=$("[data-id='"+t.id+"']");if(e&&e.data("status")!=t.status){var i=2==t.status?"done":"undone",n=e.find(".cert-status");e.data("status",t.status),n.removeClass().addClass("cert-status "+i),n.text(t.desc)}})}else new Tip(e.msg);t.isPolling=!1},fail:function(){t.isPolling=!1}}))},stopPolling:function(){this.timer=clearInterval(this.timer)},hide:function(){this.stopPolling(),this.$el.hide()},show:function(){this.stopPolling(),this.$el.empty(),this.$el.remove(),this.render()}});module.exports={CertModel:CertModel,CertView:CertView}});
;define("m_order_flow:component_factory",function(e,r,o){var a=function(r){var o;switch(r){case"loanlimit":o=e("m_order_flow:loanlimit");break;case"loanterm":o=e("m_order_flow:loanterm");break;case"3":case"4":case"text":o=e("m_order_flow:text");break;case"5":o=e("m_order_flow:username");break;case"confirm":o=e("m_order_flow:confirm");break;case"button":o=e("m_order_flow:button");break;case"weixin":o=e("m_order_flow:weixin");break;case"banner":o=e("m_order_flow:banner");break;case"select":case"2":case"1":o=e("m_order_flow:select");break;case"navbar":o=e("express"==CONST.src?"m_order_flow:navbar-limit":"m_order_flow:navbar");break;case"titlebar":o=e("m_order_flow:titlebar");break;case"label":o=e("m_order_flow:label");break;case"tip":o=e("m_order_flow:tip");break;case"loading":o=e("m_order_flow:loading");break;case"money-type":o=e("m_order_flow:money-type");break;case"sem21coupon":o=e("m_order_flow:sem21coupon");break;case"vrmobile":o=e("m_order_flow:vrmobile")}return o};o.exports=a});
;define("m_order_flow:order_status",function(a,e,i){var t=function(a){switch(a.msg){case"apply_express":$.log({page_name:"new_zhitongche_apply_express",fr:"express"}),CONST.CURRENT_APP.router.expressqz();break;case"apply_doudi":case"apply_tjy":$.log({page_name:"quick_loan_pop"}),Event_Bus.trigger("Apply_Doudi",a.data);break;case"prepose_contact_banker_form":Event_Bus.trigger("Apply_Prepose_Contact_Banker_Form",a.data),"express"==CONST.SRC&&CONST.CURRENT_APP.router.navigate("",{trigger:!0});break;case"prepose_contact_banker_form_ppd":n(a.data.mobile);break;case"jump_to_taojinyun":window.location.href=a.data.url;break;case"jump_to_certification":a.data.titleinfo&&(a.data.viewTags=a.data.titleinfo),Event_Bus.trigger("NeedCertification",a.data);break;case"answer_qask":Event_Bus.trigger("Apply_Answer_Qask",a.data);break;case"jump_to_cooperate":$.log({page_name:"new_zhitongche_cooperate",fr:"default"}),window.location=a.data.cooperate.api_senddata;break;case"apply_success":Event_Bus.trigger("Apply_Success",a.data),"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_success"});try{sendjrtttj()}catch(e){}if(a.data.hasOwnProperty("order_ids"))try{sendjrtttj_standard()}catch(e){}break;case"apply_condition_fail":Event_Bus.trigger("Apply_Condition_Fail",a.data),"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_fail"});break;case"verify_fail":new Tip(a.data.desc,function(){});break;case"fangdai_quiz":Event_Bus.trigger("Fangdai_Quiz",a.data);break;case"jump_to_ppdai":Event_Bus.trigger("Jump_To_PPD",a.data);break;case"contact_banker_confirm":case"fangdai_apply_qa_basic_city_0_fail":case"fangdai_apply_qa_basic_city_1_fail":case"fangdai_apply_qa_basic_type_fail":case"fangdai_apply_qa_basic_info_fail":case"apply_fail":"reg"==CONST.SRC&&CONST.IS_FANGDAI&&$.log({page_name:"fangdai_apply_fail"}),new Tip(a.data.desc,function(){window.location.href="//m.rong360.com/"+$.cookie("cityDomain"),new Loading})}},n=function(a){var e=$('<div class="recitycover"></div>');e.css({zIndex:"100",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#000",opacity:"0.3"});var i=$('<div class="jsdaitip"></div>'),t=$('<div class="tiptitle">拍拍贷已注册，何不尝试下极速贷</div>'),n=$('<div class="body"><div class="wrap"><div class="icon"></div><div class="tip"><div>10分钟在线申请</div><div>24小时极速放贷</div></div></div><button class="ui-btn" type="button" >立即下载体验</button><div class="jsddownloadbt"><span id="login" style="color:#05b;float:right;" data-href="//wap.ppdai.com/Login/?regsourceid=rong360&utm_campaign=&utm_source=rong360&utm_medium=wapcpm&utm_content=&utm_term=" >仍然去拍拍贷登录>></span></div></div>');i.append(t),i.append(n),$("[view=contact]").append(e),$("[view=contact]").append(i),n.find("#login").bind("click",function(){$.log({page_name:"new_zhitongche_ppdai_existing_user_jump"}),new Loading,$.ajax({type:"POST",url:"/api/PPUserName",dataType:"json",async:!1,data:{field:"mobilephone",value:a},success:function(){}});var e=$(this).attr("data-href");e="//m.ppdai.com/loan/Users/UserInfo",window.open(e,"_self")}),n.find(".ui-btn").bind("click",function(){window.location.href=$.os.ios?"https://itunes.apple.com/cn/app/ji-su-dai/id946620973?mt=8":"//www.rong360.com/dl/jsd_paipaidai.apk"})};i.exports=t});
;define("m_order_flow:expressrouter",function(e,i,t){var r=Backbone.Router.extend({initialize:function(i){if(this.app=i,!this.app.views.hasOwnProperty("contact_view")){this.app.Contact_View=new Contact_View({contactData:{},commondata:{user_name:CONST.user_name,user_mobile:CONST.user_mobile,defbtnval:"下一步，验证手机",targetUrl:"/mapi/loan/ExpressContactBanker"}}),_.extend(this.app.Contact_View,{viewname:"contact_view",hide:function(){$('[view="contact"]').hide()},show:function(){$('[view="contact"]').show()}}),this.app.views.contact_view=this.app.Contact_View,this.app.Current_View=this.app.Contact_View,1==CONST.wx_autologin&&this.app.Contact_View.hide();try{history.replaceState("",document.title,window.location.href.replace(/\#(\S)*/,""))}catch(t){}}Event_Bus.on("Apply_Doudi",function(i){if(!this.app.views.hasOwnProperty("jisudai")){var t=e("m_order_flow:jisudai"),r=new t(i);this.app.views.jisudai=r}this.navigate("jsd_view",{trigger:!0})},this),Event_Bus.on("Jump_To_PPD",function(e){var i=e;if(i.desc="",i.hasOwnProperty("recommend")&&i.recommend.hasOwnProperty("isDoudi")){var t=i.recommend.isDoudi;t&&(i.desc="恭喜，您可以申请以下贷款")}this.preparerecommend(i)},this),Event_Bus.on("Express_Recommend_Apply_Fail",function(e){var i=this,t=e;if(t.hasOwnProperty("successRecommendProducts")){var r=t.successRecommendProducts;if(t.recommend=t.successRecommendProducts,!r.hasOwnProperty("list")||0==r.list.length&&r.hasOwnProperty("isDoudi")){var n=new Loading,a={product_id:CONST.PRODUCT_ID,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,banker_id:CONST.BANKER_ID,apply_src:CONST.SRC,area:CONST.GET_AREA||0,rongid:CONST.RONGID,application_type:CONST.APPLICATION_TYPE,express_type:CONST.GET_EXPRESS_TYPE,from_type:CONST.FROM_TYPE||""};$.ajax({type:"GET",url:CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressSearch",data:$.json2param(a),dataType:"json",success:function(e){"0"==e.data.recommend.standard_type?i.navigate("mouse_point",{trigger:!0}):(e.data.desc="抱歉，您的个人条件暂时无法申请该贷款，建议您选择申请其他贷款。",i.preparerecommend(e.data))},complete:function(){n.remove()}})}else i.preparerecommend(t)}else i.navigate("mouse_point",{trigger:!0})},this),Event_Bus.on("Express_Recommend_Apply_Success",function(i){var t=e("m_order_flow:infoalert"),r={model:new Backbone.Model(i)};if(this.app.views.infoalert)this.app.views.infoalert.model=r.model,this.app.views.infoalert.rerender();else{var n=new t.InfoAlertView(r);this.app.views.infoalert=n}this.app.views.infoalert.show(),this.navigate("infoalert",{trigger:!0})},this),Event_Bus.on("QAskDone",function(i){var t=this,r=i.params,n=i.titleinfo;if(!t.isfetching){t.isfetching=!0;var a=new Loading;$.getJSON(CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressSearch",r,function(i){t.isfetching=!1,a.remove();var r=i.data;if(r&&r.redirect_url)return void(window.location.href=r.redirect_url);if("0"==r.recommend.standard_type)t.navigate("mouse_point",{trigger:!0});else if(r&&r.recommend){var s=[];2!=r.recommend.standard_type&&_.each(r.recommend.list,function(e){s=s.concat(e.qask_tpl)});var o=_.uniq(s);if(o.length>0){var p=e("m_order_flow:expressqaskmore"),c=p.ExpressQMoreCollection,d=p.ExpressQMoreZView,m=new c;m.setViewTag(n);var u=new d(m,"expressqaskmore",t);_.each(o,function(e){var i=new Backbone.Model(e);m.add(i)}),t.app.views.expressqaskmore&&t.app.views.expressqaskmore.remove(),t.app.views.expressqaskmore=u,t.navigate("expressqaskmore",{trigger:!0})}else{if(r.desc="",r.hasOwnProperty("recommend")&&r.recommend.hasOwnProperty("isDoudi")){var h=r.recommend.hasOwnProperty("isDoudi");h&&(r.desc="恭喜，您可以申请以下贷款")}t.preparerecommend(r)}}})}},this),Event_Bus.on("ExpressQaskMoreDone",function(e){{var i=this,t=e.params;e.titleinfo}if(!i.isfetching){i.isfetching=!0;var r=new Loading;$.getJSON(CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressSearch",t,function(e){i.isfetching=!1,r.remove();{var t=e.data;t.mult_select}if(t&&t.redirect_url)return void(window.location.href=t.redirect_url);if(t&&"0"==t.recommend.standard_type)i.navigate("mouse_point",{trigger:!0});else{if(t.desc="",t.hasOwnProperty("recommend")&&t.recommend.hasOwnProperty("isDoudi")){var n=t.recommend.hasOwnProperty("isDoudi");n&&(t.desc="恭喜，您可以申请以下贷款")}i.preparerecommend(t)}})}},this),Event_Bus.on("NeedCertification",function(i){var t=e("m_order_flow:certification"),r=t.CertModel,n=t.CertView,a=new r(i),s=new n({model:a});this.app.views.certification=s,this.navigate("certification",{trigger:!0})},this),Event_Bus.on("CertDone",function(e){var i=new Loading;$.ajax({type:"POST",url:"/mapi/loan/ExpressCertApply?rongid="+(CONST.RONGID||$.cookie("RONGID")),dataType:"json",data:e,success:function(e){var i=e.msg,t=e.data;if("express_check_fail"==i||"permit_or_ask_error"==i)$.log({page_name:"new_zhitongche_express_check_fail",fr:"new_zhitongche",rf_page_name:"new_zhitongche",rongid:CONST.RONGID}),new Tip(t.desc,function(){Event_Bus.trigger("Express_Recommend_Apply_Fail",t)});else if("p2p_push_order_fail"==i)new Tip("抱歉，提交贷款申请过程中遇到问题。点击确定查看其他贷款。",function(){new Loading,window.location.href=CONST.LINK_PROTOCOL+"m.rong360.com/daikuan"});else if("apply_success"==i){"express"==CONST.SRC&&sa.track("express_apply_success");try{sendjrtttj()}catch(r){}try{sendBaidu()}catch(r){}if("pinyou"==CONST.UTM_SOURCE&&"express"==CONST.SRC&&(py("set","mapping","0"),py("event","register","").track("fc.r3h.hR3qE3siurSdfMMAPRvtOX")),t&&t.hasOwnProperty("online_process"))new Loading,window.location.href="https://m.rong360.com/isonline";else if(t.goto_url)sa.track("order_apply_success",{from:CONST.SRC,type:"p2p"}),new Loading,window.location.href=t.goto_url;else if(t.hasOwnProperty("is_stdpro_jump")&&1==t.is_stdpro_jump&&t.hasOwnProperty("stdpro_jump_url"))sa.track("stdpro_jump",{from:CONST.SRC}),new Loading,window.location.href=t.stdpro_jump_url;else if("reg"!==CONST.SRC?(Event_Bus.trigger("Express_Recommend_Apply_Success",t),$.log({page_name:"new_zhitongche_express_apply_success",fr:"new_zhitongche",rf_page_name:"new_zhitongche",rongid:CONST.RONGID})):Event_Bus.trigger("Apply_Success",t),t.hasOwnProperty("order_ids")){try{sendjrtttj_standard()}catch(r){}sa.track("order_apply_success",{order_ids:t.order_ids.join(","),from:CONST.SRC,type:"standard"})}}else"contact_banker_form"==i?Event_Bus.trigger("Contact_Banker_Form"):("ppd_check_spam_uid_same_error"==i||"antispam_error"==i)&&new Tip(t.desc,function(){Event_Bus.trigger("Go_To_Mouse_Point",t)})},complete:function(){i.remove()}})},this),Event_Bus.on("Contact_Banker_Form",function(){window.location.href="//m.rong360.com/express",new Loading},this),Event_Bus.on("Go_To_Mouse_Point",function(){this.navigate("mouse_point",{trigger:!0})},this),Backbone.history.start()},routes:{"":"index","qask/:index":"qaskByIndex",expressqaskmore:"expressqaskmore",recommend:"recommend",infoalert:"infoalert",mouse_point:"mouse_point",certification:"certification",jsd_view:"jsdView"},index:function(){this.app.views.qask0&&this.expressqz()},expressqz:function(){var e=this;this.isfetching=!1;var i={rongid:CONST.RONGID,application_type:CONST.APPLICATION_TYPE,express_type:CONST.GET_EXPRESS_TYPE,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM};if(this.app.qaskData)e.navigate("qask/0",{trigger:!0});else{var t=new Loading;$.ajax({type:"GET",url:CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressQuiz",data:i,dataType:"json",success:function(i){if(0==i.error&&i.data.quiz_group.length>0){e.app.qaskData=[];var t=i.data.quiz_group,r=[{title:"贷款金额",var_name:"loan_limit",type:"loanlimit",unit:"万元"},{title:"贷款期限",var_name:"loan_term",type:"loanterm",unit:"个月"}];_.each(t,function(i,t,n){0==t&&(i.list=r.concat(i.list));var a=t==n.length-1?!1:!0,s={hasNext:a,curIndex:t,qzgroup:i};e.app.qaskData.push(s)}),e.app.qaskData.length>0&&e.navigate("qask/0",{trigger:!0})}},error:function(){new Tip("服务器偷懒了，请稍后再试",function(){window.location.assign("//m.rong360.com")})},complete:function(){t.remove()}})}},qaskByIndex:function(i){var t=this,r=e("m_order_flow:expressquiz"),n=r.ExpressQZCollection,a=r.ExpressQZView,s=r.GetCouponView;if(!this.app.qaskData||i>=this.app.qaskData.length)return void this.navigate("",{trigger:!0});if(!this.app.views["qask"+i]){var o=this.app.qaskData[i],p=new n;p.hasNext=o.hasNext,p.curIndex=o.curIndex;var c=[];_.each(this.app.qaskData,function(e){var i={title:e.qzgroup.name};c.push(i)}),c.push({title:"完成申请"}),p.setViewTag(c);var d=new a(p,"qask"+i,this);_.each(o.qzgroup.list,function(e){var i=new Backbone.Model(e);p.add(i)}),this.app.views["qask"+i]=d}this.app.Current_View&&this.app.Current_View.viewname!="qask"+i&&this.app.Current_View.hide(),this.app.Current_View=this.app.views["qask"+i],this.app.Current_View.show(),0==i&&"sem33"==CONST.FROM&&$.ajax({type:"POST",url:"/wechatcoupon/loancoupon?is_ajax=1",dataType:"json",success:function(e){if(!e.error){new s(e.data.mobile)}}}),0!=i||$.cookie("checkTjyOldUser")||$.ajax({type:"POST",url:"/mapi/loan/istaojinolduser",dataType:"json",data:{rongid:CONST.RONGID},success:function(e){e.data.old_user&&($.log({page_name:"ztc_tjyUser"}),t.taojinyunPopup(e.data)),$.cookie("checkTjyOldUser",!0)}}),0==i&&"express"==CONST.SRC&&"pinyou"==CONST.UTM_SOURCE&&(py("set","mapping","0"),py("event","register",CONST.RONGID).track("fc.03h.0gzfLW6aN0oT7HU336r9JP"))},expressqaskmore:function(){return this.app.views.hasOwnProperty("expressqaskmore")?(this.app.Current_View&&"expressqaskmore"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View=this.app.views.expressqaskmore,void this.app.Current_View.show()):void this.navigate("",{trigger:!0})},certification:function(){return this.app.views.hasOwnProperty("certification")?(this.app.Current_View&&"certification"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View=this.app.views.certification,this.app.Current_View.show(),void $.log({page_name:"new_qask_meterial",ext:{src:CONST.SRC}})):void this.navigate("",{trigger:!0})},recommend:function(){return this.app.views.infoalert?void window.history.go(1):this.app.views.hasOwnProperty("recommend")?(this.app.Current_View&&"recommend"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View=this.app.views.recommend,void this.app.Current_View.show()):void this.navigate("",{trigger:!0})},preparerecommend:function(i){var t=i.mult_select,r=i.recommend,n=!1,a=r.hasOwnProperty("isDoudi"),s=e("m_order_flow:recommend"),o=[],p=0;if(r.hasOwnProperty("list")&&r.list.length>0){var c=r.list.filter(function(e){return e.hasOwnProperty("is_cooper")&&1==e.is_cooper}).length;n=c>0,$.log({page_name:"cooper_recommend",ext:{count:c}})}if(this.app.views.recommend){var d=this.app.views.recommend.collection;this.app.views.recommend.collection.desc=i.desc,d.IS_MULT_SELECT=t,d.IS_DOUDI=a,d.has_cooper=n,d.reset(),_.each(r.list,function(e){var e=_.extend(e,{is_doudi:a}),i=new s.RecommendModel(e);d.add(i)})}else{var m=new s.RecommendListCollection;m.desc=i.desc,m.IS_MULT_SELECT=t,m.IS_DOUDI=a,m.has_cooper=n;var u=new s.RecommendListView(m);p=r.list.length;var h=r.list.length,l=0,w=0;_.each(r.list,function(e){o.push(e.str_id);var e=_.extend(e,{is_doudi:a}),i=new s.RecommendModel(e);switch(e.tag_type){case"success":l++;break;case"popular":w++}m.add(i)}),this.app.views.recommend=u}this.app.views.infoalert&&(this.app.views.infoalert.hide(),this.app.views.infoalert.remove(),delete this.app.views.infoalert),this.app.views.recommend.show(),this.navigate("recommend",{trigger:!0}),r.hasOwnProperty("standard_type")&&(r.standard_type&&($.log({page_name:"new_recommend",rl:o.join(","),rn:p,ext:{product_type:"standard",from:CONST.SRC,suc_count:l,count:h,apply_count:w,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}),sa.track("recommendview_show",{product_type:"standard",pids:o.join(","),from:CONST.SRC})),a&&""===r.standard_type&&r.list&&1==r.list.length&&(r.list[0].hasOwnProperty("taojinyun_url")?($.log({page_name:"new_recommend",ext:{product_type:"taojinyun",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}),sa.track("recommendview_show",{product_type:"taojinyun"})):($.log({page_name:"new_recommend",rl:o.join(","),rn:p,ext:{product_type:"p2p",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}),sa.track("recommendview_show",{product_type:"p2p",pids:o.join(",")}))))},infoalert:function(){return this.app.views.hasOwnProperty("infoalert")?(this.app.Current_View&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.Current_View=this.app.views.infoalert,void this.app.Current_View.show()):void this.navigate("",{trigger:!0})},mouse_point:function(){if(this.app.Current_View&&"mouse_point"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),!this.app.views.hasOwnProperty("mouse_point")){var i=e("m_order_flow:mouse_point"),t=new i;this.app.views.mouse_point=t}this.app.Current_View=this.app.views.mouse_point,this.app.Current_View.show(),$.log({page_name:"new_zhitongche_disney"})},jsdView:function(){return this.app.views.hasOwnProperty("jisudai")?(this.app.Current_View&&"jisudai"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View=this.app.views.jisudai,void this.app.Current_View.show()):void this.navigate("",{trigger:!0})},taojinyunPopup:function(e){var i=$("<div class='tjytip'><div class='cliplayer'></div><div class='tipwrap'><div class='icon'><img src='//static.rong360.com/upload/png/12/04/12042b86c5cb5504a95d92c04f11a474.png'></div><div class='title'>尊敬的"+e.user_name+"</div><div class='tip'><p>您已经如期还清了我司的"+parseInt(e.user_loan)+"元贷款。如需再次办理，可直接点击申请。</p></div><div class='btn twoBtn'><div class='cancel'>放弃</div><div class='submit'>申请</div></div></div></div>");$("body").append(i),i.find(".cancel").bind("click",function(){$.elog({event_name:"ztc_tjyUser_cancel_click"}),$(".tjytip").remove()}),i.find(".submit").bind("click",function(){$.elog({event_name:"ztc_tjyUser_apply_click"});try{sa.track("ztc_tjyUser_apply_click")}catch(i){}window.location.href=e.taojinyun_url})}});t.exports=r});
;define("m_order_flow:applyrouter",function(e,i,t){var a=Backbone.Router.extend({initialize:function(i){this.app=i,this.isfetching=!1,Event_Bus.on("Apply_Prepose_Contact_Banker_Form",function(e){this.app.views.hasOwnProperty("contact_view")||(this.app.Contact_View=new Contact_View({contactData:{productData:{prodcutInfo:e.product_base_info}},commondata:{user_name:CONST.user_name,user_mobile:CONST.user_mobile,defbtnval:"下一步，验证手机",targetUrl:"/mapi/loan/apply_complete"}}),_.extend(this.app.Contact_View,{viewname:"contact_view",hide:function(){$('[view="contact"]').hide()},show:function(){$('[view="contact"]').show()}})),this.app.Current_View&&"contact_view"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.views.contact_view=this.app.Contact_View,this.app.Current_View=this.app.Contact_View,this.app.Current_View.show()},this),Event_Bus.on("Apply_Answer_Qask",function(e){this.qasks(e)},this),Event_Bus.on("Apply_Success",function(i){var t={model:new Backbone.Model(i)};if(this.app.views.infoalert)this.app.views.infoalert.model=t.model,this.app.views.infoalert.rerender();else{var a=e("m_order_flow:infoalert"),n=new a.InfoAlertView(t);this.app.views.infoalert=n}this.app.views.infoalert.show(),this.navigate("infoalert",{trigger:!0}),i.hasOwnProperty("goto_url")?(new Loading,sa.track("order_apply_success",{from:CONST.SRC,type:"p2p"}),window.location.href=i.goto_url):i.hasOwnProperty("is_stdpro_jump")&&1==i.is_stdpro_jump&&i.hasOwnProperty("stdpro_jump_url")&&(sa.track("stdpro_jump",{from:CONST.SRC}),new Loading,window.location.href=i.stdpro_jump_url)},this),Event_Bus.on("NeedCertification",function(i){var t=e("m_order_flow:certification"),a=t.CertModel,n=t.CertView,r=new a(i),o=new n({model:r});this.app.views.certification=o,this.navigate("certification",{trigger:!0})},this),Event_Bus.on("QAskDone",function(i){var t=this;if(!t.isfetching){t.isfetching=!0;var a={product_id:CONST.PRODUCT_ID,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,permit_fail:CONST.PERMIT_FAIL,banker_id:CONST.BANKER_ID,area:CONST.GET_AREA||0},n=new Loading;$.ajax({type:"GET",url:"/mapi/loan/qask",data:i.params+"&"+$.json2param(a),dataType:"json",success:function(a){if(t.isfetching=!1,n.remove(),a.data&&a.data.hasOwnProperty("online_process"))window.location.href="https://m.rong360.com/isonline";else{var r=e("m_order_flow:order_status");a.data.titleinfo=i.titleinfo,r(a)}}})}},this),Event_Bus.on("CertDone",function(i){var t=this;if(!t.isfetching){t.isfetching=!0;var a=new Loading;$.ajax({type:"POST",url:"/mapi/loan/QaskCert?rongid="+(CONST.RONGID||$.cookie("RONGID")),dataType:"json",data:i,success:function(i){if(t.isfetching=!1,i.data&&i.data.hasOwnProperty("online_process"))window.location.href="https://m.rong360.com/isonline";else{var a=e("m_order_flow:order_status");i.data.titleinfo=i.data.titleinfo,a(i)}},complete:function(){a.remove()}})}},this),Event_Bus.on("Apply_Condition_Fail",function(i){if(i&&i.recommend){var t=[];2!=i.recommend.standard_type&&_.each(i.recommend.list,function(e){t=t.concat(e.qask_tpl)});var a=_.uniq(t);if(a.length>0){var n=e("m_order_flow:expressqaskmore"),r=n.ExpressQMoreCollection,o=n.ExpressQMoreZView,s=new r;i.titleinfo||(i.titleinfo=[{title:"填写补充问题"},{title:"完成申请"}]),s.setViewTag(i.titleinfo);var p=new o(s,"expressqaskmore",this);_.each(a,function(e){var i=new Backbone.Model(e);s.add(i)}),this.app.views.expressqaskmore&&this.app.views.expressqaskmore.remove(),this.app.views.expressqaskmore=p,this.navigate("expressqaskmore",{trigger:!0})}else this.preparerecommend(i)}},this),Event_Bus.on("QAskMoreDone",function(e){var i={product_id:CONST.PRODUCT_ID,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,permit_fail:CONST.PERMIT_FAIL,banker_id:CONST.BANKER_ID,apply_src:CONST.SRC,area:CONST.GET_AREA||0,from_type:CONST.FROM_TYPE||""},t=this;if(!t.isfetching){t.isfetching=!0;var a=new Loading;$.ajax({type:"GET",url:CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressSearch",data:e.params+"&"+$.json2param(i),dataType:"json",success:function(e){a.remove(),"0"==e.data.recommend.standard_type?t.navigate("mouse_point",{trigger:!0}):t.preparerecommend(e.data)},complete:function(){t.isfetching=!1}})}},this),Event_Bus.on("Express_Recommend_Apply_Fail",function(e){var i=this;if(e.hasOwnProperty("successRecommendProducts")){var t=e.successRecommendProducts;if(e.recommend=e.successRecommendProducts,!t.hasOwnProperty("list")||0==t.list.length&&t.hasOwnProperty("isDoudi")){var a=new Loading,n={product_id:CONST.PRODUCT_ID,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,permit_fail:CONST.PERMIT_FAIL,banker_id:CONST.BANKER_ID,apply_src:CONST.SRC,area:CONST.GET_AREA||0,rongid:CONST.RONGID,application_type:CONST.APPLICATION_TYPE,express_type:CONST.GET_EXPRESS_TYPE,from_type:CONST.FROM_TYPE||""};$.ajax({type:"GET",url:CONST.LINK_PROTOCOL+"m.rong360.com/mapi/loan/ExpressSearch",data:$.json2param(n),dataType:"json",success:function(e){"0"==e.data.recommend.standard_type?i.navigate("mouse_point",{trigger:!0}):i.preparerecommend(e.data)},complete:function(){a.remove()}})}else i.preparerecommend(e)}else i.navigate("mouse_point",{trigger:!0})},this),Event_Bus.on("Express_Recommend_Apply_Success",function(i){var t=e("m_order_flow:infoalert"),a={model:new Backbone.Model(i)};if(this.app.views.infoalert)this.app.views.infoalert.model=a.model,this.app.views.infoalert.rerender();else{var n=new t.InfoAlertView(a);this.app.views.infoalert=n}this.app.views.infoalert.show(),this.navigate("infoalert",{trigger:!0})},this),Event_Bus.on("Fangdai_Quiz",function(e){this.fangdai(e)},this),Event_Bus.on("Fangdai_Quiz_Done",function(i){var t=this;if(!t.isfetching){t.isfetching=!0;var a=new Loading;$.ajax({type:"GET",url:"/mapi/loan/FangdaiQuiz",data:i,dataType:"json",success:function(i){a.remove();var t=e("m_order_flow:order_status");t(i)},complete:function(){t.isfetching=!1}})}},this),Event_Bus.on("Go_To_Mouse_Point",function(){this.navigate("mouse_point",{trigger:!0})},this),Backbone.history.start()},routes:{"":"index",contact:"contact","qask/:index":"qasksByIndex",order_fail:"order_fail",infoalert:"infoalert",fangdaiqz:"fangdaiqz",mouse_point:"mouse_point",certification:"certification",expressqaskmore:"expressqaskmore"},index:function(){var i=new Loading,t={application_type:CONST.APPLICATION_TYPE,product_id:CONST.PRODUCT_ID,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM,permit_fail:CONST.PERMIT_FAIL,rongid:CONST.RONGID,banker_id:CONST.BANKER_ID,area:CONST.GET_AREA,cooperate_code:CONST.COOPERATE_CODE,from_type:CONST.FROM_TYPE};$.ajax({type:"GET",url:"/mapi/loan/contactbanker",data:$.json2param(t),dataType:"json",success:function(i){var t=e("m_order_flow:order_status");t(i)},complete:function(){i.remove()}})},qasks:function(e){var i=this;i.app.qaskData=[];var t=e.quiz.quiz_group;_.each(t,function(e,t,a){var n=t==a.length-1?!1:!0,r={hasNext:n,curIndex:t,qzgroup:e};i.app.qaskData.push(r)}),i.app.qaskData.length>0&&this.navigate("qask/0",{trigger:!0})},qasksByIndex:function(i){var t=e("m_order_flow:expressquiz"),a=t.ExpressQZCollection,n=t.ExpressQZView;if(!this.app.qaskData||i>=this.app.qaskData.length)return window.location.href="//m.rong360.com/"+$.cookie("cityDomain"),void new Loading;if(!this.app.views["qask"+i]){var r=this.app.qaskData[i],o=new a;o.hasNext=r.hasNext,o.curIndex=r.curIndex;var s=[];_.each(this.app.qaskData,function(e){var i={title:e.qzgroup.name};s.push(i)}),s.push({title:"完成申请"}),o.setViewTag(s);var p=new n(o,"qask"+i,this);_.each(r.qzgroup.list,function(e){var i=new Backbone.Model(e);o.add(i)}),this.app.views["qask"+i]=p}this.app.Current_View&&this.app.Current_View.viewname!="qask"+i&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.Current_View=this.app.views["qask"+i],this.app.Current_View.show()},certification:function(){return this.app.views.hasOwnProperty("certification")?(this.app.Current_View&&"certification"!=this.app.Current_View.viewname?this.app.Current_View.hide():$("[view=contact]").hide(),this.app.Current_View=this.app.views.certification,this.app.Current_View.show(),void $.log({page_name:"new_qask_meterial",ext:{src:CONST.SRC}})):void this.navigate("",{trigger:!0})},mouse_point:function(){if(this.app.Current_View&&"mouse_point"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),!this.app.views.hasOwnProperty("mouse_point")){var i=e("m_order_flow:mouse_point"),t=new i;this.app.views.mouse_point=t}this.app.Current_View=this.app.views.mouse_point,this.app.Current_View.show()},infoalert:function(){return this.app.views.hasOwnProperty("infoalert")?(this.app.Current_View&&"infoalert"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.Current_View=this.app.views.infoalert,this.app.Current_View.show(),void window.history.go(1)):(window.location.href="//m.rong360.com/"+$.cookie("cityDomain"),void new Loading)},order_fail:function(){return this.app.views.infoalert?void window.history.go(1):this.app.views.hasOwnProperty("order_fail")?(this.app.Current_View&&"order_fail"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.Current_View=this.app.views.order_fail,void this.app.Current_View.show()):(window.location.href="//m.rong360.com/"+$.cookie("cityDomain"),void new Loading)},preparerecommend:function(i){var t=i.mult_select,a=i.recommend,n=a.hasOwnProperty("isDoudi"),r=e("m_order_flow:recommend"),o=!1;if(a.hasOwnProperty("list")&&a.list.length>0){var s=a.list.filter(function(e){return e.hasOwnProperty("is_cooper")&&1==e.is_cooper}).length;o=s>0,$.log({page_name:"cooper_recommend",ext:{count:s}})}var p=[],c=0;if(this.app.views.order_fail){var d=this.app.views.order_fail.collection;d.IS_MULT_SELECT=t,d.IS_DOUDI=n,d.has_cooper=o,d.reset(),_.each(a.list,function(e){var e=_.extend(e,{is_doudi:n}),i=new r.RecommendModel(e);d.add(i)})}else{var h=new r.RecommendListCollection;h.IS_MULT_SELECT=t,h.IS_DOUDI=n,h.has_cooper=o;var w=new r.RecommendListView(h);c=a.list.length,_.each(a.list,function(e){p.push(e.str_id);var e=_.extend(e,{is_doudi:n}),i=new r.RecommendModel(e);h.add(i)}),this.app.views.order_fail=w}this.app.views.infoalert&&(this.app.views.infoalert.hide(),this.app.views.infoalert.remove(),delete this.app.views.infoalert),this.app.views.order_fail.show(),this.navigate("order_fail",{trigger:!0}),a.hasOwnProperty("standard_type")&&(a.standard_type&&$.log({page_name:"new_recommend",rl:p.join(","),rn:c,ext:{product_type:"standard",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}),n&&""===a.standard_type&&a.list&&1==a.list.length&&$.log(a.list[0].hasOwnProperty("taojinyun_url")?{page_name:"new_recommend",ext:{product_type:"taojinyun",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}:{page_name:"new_recommend",rl:p.join(","),rn:c,ext:{product_type:"p2p",from:CONST.SRC,loan_limit:CONST.LOAN_LIMIT,loan_term:CONST.LOAN_TERM}}))},expressqaskmore:function(){return this.app.views.hasOwnProperty("expressqaskmore")?(this.app.Current_View&&"expressqaskmore"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.Current_View=this.app.views.expressqaskmore,void this.app.Current_View.show()):(window.location.href="//m.rong360.com/"+$.cookie("cityDomain"),void new Loading)},fangdai:function(i){var t=e("m_order_flow:fangdaiquiz"),a=new t({data:i});this.app.views.fangdaiqz=a,this.navigate("fangdaiqz",{trigger:!0})},fangdaiqz:function(){return this.app.views.hasOwnProperty("fangdaiqz")?(this.app.Current_View&&"fangdaiqz"!=this.app.Current_View.viewname&&this.app.Current_View.hide(),this.app.Current_View||$(".MiniWrap").children().hide(),this.app.Current_View=this.app.views.fangdaiqz,void this.app.Current_View.show()):(window.location.href="//m.rong360.com/"+$.cookie("cityDomain"),void new Loading)}});t.exports=a});
;define("m_order_flow:banner",function(require,exports,module){var bannerFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="ui-banner">\n	<img src="'+(null==(__t=bannerurl)?"":__t)+'" />\n</div>';return __p},Banner=function(n){this._dom=$(bannerFunc({bannerurl:n}))};module.exports=Banner});
;define("m_order_flow:button",function(require,exports,module){var btnFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="ui-button">\n	<input value="'+(null==(__t=btnText)?"":__t)+'" type="button" data-url="'+(null==(__t=postUrl)?"":__t)+'" class="btn '+(null==(__t=color)?"":__t)+'" />\n</div>';return __p},Button=function(t){this.btnText=t.title,this.postUrl=t.click,this.color=t.color?t.color:"blue",this._dom=$(btnFunc({btnText:this.btnText,postUrl:this.postUrl,color:this.color})),this.btn=this._dom.find('[type="button"]')};module.exports=Button});
;define("m_order_flow:confirm",function(require,exports,module){var confirmFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="confirmwraper'+(null==(__t=obj.className?" "+obj.className:"")?"":__t)+'">\n	<div class="cliplayer">	\n		\n	</div>	\n	<div class="tipwrap">\n		',obj.showCloseBtn&&(__p+='\n		<div class="closeBtn">&times;</div>\n		'),__p+="\n		",obj.showTitle&&(__p+='\n		<div class="title">\n			<div class="titleWrap">'+(null==(__t=obj.titleText)?"":__t)+"</div>\n		</div>\n		"),__p+='\n		<form class="tip">\n			',obj.showIcon&&(__p+='\n			<div class="icon"><img src="'+(null==(__t=obj.icon)?"":__t)+'"></div>\n			'),__p+='\n			<div class="text">'+(null==(__t=obj.text)?"":__t)+'</div>\n		</form>\n		<div class="tipbtn">\n			<div class="cancel">'+(null==(__t=obj.cancelBtnText)?"":__t)+'</div><div class="submit">'+(null==(__t=obj.submitBtnText)?"":__t)+"</div>\n		</div>\n	</div>\n</div>\n\n\n\n\n";return __p},Confirm=function(t){switch(this.settings={parent:$("body"),className:"",tipCss:{},btnCss:{},text:"",showIcon:!0,showCloseBtn:!1,showTitle:!1,titleText:"标题",icon:"changgui",submitBtnText:"确定",cancelBtnText:"取消",submitCallback:function(){},cancelCallback:function(){},components:[]},_.extend(this.settings,t),this.settings.icon){case"changgui":this.settings.icon="//static.rong360.com/upload/png/19/b7/19b71dec99e58190b42dc5a358c1ecf7.png";break;case"shuxie":this.settings.icon="//static.rong360.com/upload/png/92/d3/92d34073abe419d05590abaf410d85e6.png";break;case"beiju":this.settings.icon="//static.rong360.com/upload/png/bf/14/bf14d3364823a05b5d17ac554908fb02.png"}this._dom=$(confirmFunc(this.settings)),_.each(this.settings.components,function(t){this._dom.find(".tip").append(t._dom)},this),this.canCallBack=!1,this.$cliplayer=this._dom.find(".cliplayer"),this.$submitBtn=this._dom.find(".submit"),this.$cancelBtn=this._dom.find(".cancel"),this.$closeBtn=this._dom.find(".closeBtn"),this.$tipwrap=this._dom.find(".tipwrap"),this.$tip=this._dom.find(".tip"),this.$tip.css(this.settings.tipCss),this.$submitBtn.css(this.settings.btnCss),this.$cancelBtn.css(this.settings.btnCss),this.bindEvent(),this.settings.parent.append(this._dom),this.show(),this.resetPosition(),_.each(this.list,function(t){t._dom.remove()},this),this.list.push(this)};Confirm.prototype.list=[],Confirm.prototype.bindEvent=function(){var t=this;this.$submitBtn.on("click",function(){for(var n=!0,i=0,s=t.settings.components.length;s>i;i++){var o=t.settings.components[i];if(o.verify&&1!=o.verify()){n=!1,o._dom[0].scrollIntoView();break}}n&&(t.canCallBack=!0,t.settings.submitCallback.call(t))}),this.$cancelBtn.on("click",function(){t.canCallBack=!0,t.settings.cancelCallback.call(t)}),this.$closeBtn.on("click",function(){t.remove()})},Confirm.prototype.resetPosition=function(){var t=this.$tipwrap,n=$(window).height(),i=t.height();t.css(n>i?{top:(n-i)/2+"px"}:{top:"20px",height:n-40+"px","overflow-y":"scroll"})},Confirm.prototype.show=function(){this._dom.show(),this.$cliplayer.removeClass("fadeIn").addClass("fadeIn animated").show(),this.$tipwrap.removeClass("bounceInUp").addClass("bounceInUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){})},Confirm.prototype.remove=function(t){var n=this;this.$cliplayer.removeClass("fadeOut").addClass("fadeOut animated").show(),this.$tipwrap.removeClass("bounceOutUp").addClass("bounceOutUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n._dom.remove(),t&&t.call(n)})},Confirm.prototype.getFormData=function(){return this._dom.find("form").serializeArray()},module.exports=Confirm});
;define("m_order_flow:label",function(require,exports,module){var labelFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="ui-tip '+(null==(__t=className)?"":__t)+'">\n	<label>'+(null==(__t=labeltext)?"":__t)+"</label>\n</div>";return __p},Label=function(l){this.labeltext=l.labeltext,this.className=l.className?" "+l.className:"",this._dom=$(labelFunc({labeltext:this.labeltext,className:this.className}))};module.exports=Label});
;define("m_order_flow:loading",function(require,exports,module){var loadingFunc=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div id="loading">\r\n	<div class="content1">\r\n		<div class="arc1"></div>\r\n		<div class="arc2"></div>\r\n		<div class="arc3"></div>\r\n		<div class="arc4"></div>\r\n	</div>\r\n	<div class="content2">\r\n		<div class="arc1"></div>\r\n		<div class="arc2"></div>\r\n		<div class="arc3"></div>\r\n		<div class="arc4"></div>\r\n	</div>\r\n</div>';return __p},Loading=function(i){this.parent=i&&i.parent||$("body"),this._dom=$(loadingFunc({width:this.width})),this.parent.append(this._dom)};Loading.prototype.remove=function(){this._dom.remove()},module.exports=Loading});
;define("m_order_flow:loanlimit",function(require,exports,module){var loanlimitFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<!-- <div class="ui-limit"> -->\n	<div class="textwrap">\n		<label>'+(null==(__t=lableText)?"":__t)+"</label>		\n		<input "+(null==(__t=1==readonly?"readonly":"")?"":__t)+' data-pattern="float" data-needcheck="'+(null==(__t=needCheck)?"":__t)+'" type="text" name="'+(null==(__t=name)?"":__t)+'"  value="'+(null==(__t=defaultValue)?"":__t)+'"  placeholder="'+(null==(__t=placeholderText)?"":__t)+'" />\n		<span class="unit">'+(null==(__t=unit)?"":__t)+"</span>		\n	</div>\n<!-- </div> -->";return __p},LoanLimit=Backbone.View.extend({tagName:"div",className:"ui-limit",template:loanlimitFunc,initialize:function(e){var t=this;this.type="loanlimit",this.needCheck=!0,this.lableText=e.title,this.placeholderText="请输入"+this.lableText,this.defaultValue=e.value||CONST.LOAN_LIMIT,this.name=e.var_name,this.readonly=e.readonly?e.readonly:!1,this.unit=e.unit;var l={needCheck:t.needCheck,lableText:t.lableText,placeholderText:t.placeholderText,defaultValue:t.defaultValue,name:t.name,readonly:t.readonly,unit:this.unit};this.$el.append($(this.template(l)))},events:{"blur input":function(e){var t=e.target.value;CONST.LOAN_LIMIT=t,$.cookie("b_loan_limit",t)}},verify:function(){var e=this;if(e.emptyCheck())return!0;new Tip(e.lableText+"不能为空！");return!1},getformdata:function(){return{var_name:this.name,value:this.$el.find("input").val(),type:this.type,title:this.lableText}},emptyCheck:function(){return!!this.$el.find("input").val()}});module.exports=LoanLimit});
;define("m_order_flow:loanterm",function(require,exports,module){var termFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<!-- <div class="ui-term"> -->\n	<div class="textwrap">\n		<label>'+(null==(__t=lableText)?"":__t)+'</label>		\n		<input data-needcheck="'+(null==(__t=needCheck)?"":__t)+'" pattern="[0-9]*" type="text" name="'+(null==(__t=name)?"":__t)+'"  value="'+(null==(__t=defaultValue)?"":__t)+'"  placeholder="'+(null==(__t=placeholderText)?"":__t)+'" />\n		<span class="unit">'+(null==(__t=unit)?"":__t)+"</span>		\n	</div>\n<!-- </div> -->";return __p},LoanTerm=Backbone.View.extend({tagName:"div",className:"ui-term",template:termFunc,initialize:function(e){var t=this;this.type="text",this.needCheck=!0,this.lableText=e.title,this.placeholderText="请输入贷款期限",this.defaultValue=e.value,this.name=e.var_name,this.unit=e.unit;var n={needCheck:t.needCheck,lableText:t.lableText,placeholderText:t.placeholderText,defaultValue:t.defaultValue||CONST.LOAN_TERM,name:t.name,unit:this.unit};this.$el.append($(this.template(n)))},events:{"blur input":function(e){var t=e.target.value;CONST.LOAN_TERM=t,$.cookie("b_loan_term",t)}},verify:function(){var e=this;if(e.emptyCheck())return!0;new Tip(e.lableText+"不能为空！");return!1},getformdata:function(){return{var_name:this.name,value:this.$el.find("input").val(),type:this.type,title:this.lableText}},emptyCheck:function(){return!!this.$el.find("input").val()}});module.exports=LoanTerm});
;define("m_order_flow:money-type",function(require,exports,module){var selectFunc=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<!-- <div class="ui-select"> -->\n<div class="textwrap">\n	<label>工资发放形式</label>\n	<div class="selectwrap">			\n		<select class="money_type select" name="money-type">                                             \n			<option value="">请选择</option>																																			\n			<option value="1">银行卡发放</option>\n            <option value="2">现金发放</option>				\n		</select>\n		<i class="icon-option dropdown"></i>			\n	</div>\n</div>\n<div class="second-level">\n	\n</div>\n<!-- </div> -->';return __p},money_type=Backbone.View.extend({className:"money-type",tagName:"div",template:selectFunc,initialize:function(e){this.type=e.type,this.labelText="工资发放形式",this.$el.append($(this.template())),this.secondChild=""},events:{"change .money_type":function(){var e=componentfactory("text"),t=this.$el.find("option").not(function(){return!this.selected}).attr("value");if(""==t)this.$el.find(".second-level").empty(),this.secondChild="";else if(1==t){var n=new e({title:"银行卡发放工资/月",var_name:"user_income_by_card",unit:"元"});this.$el.find(".second-level").empty().append(n.$el),this.secondChild=n}else if(2==t){var n=new e({title:"现金收入/月",var_name:"cash_receipts",unit:"元"});this.$el.find(".second-level").empty().append(n.$el),this.secondChild=n}}},verify:function(){var e=this.$el.find("option").not(function(){return!this.selected});if(_.isEmpty(e.attr("value"))){{new Tip("请选择"+this.labelText)}return!1}return this.secondChild?this.secondChild.verify():!0},getformdata:function(){var e=this.$el.find("option").not(function(){return!this.selected}),t=[{var_name:this.name,value:e.attr("value"),type:this.type}];return this.secondChild&&t.push(his.secondChild.getformdata()),t}});module.exports=money_type});
;define("m_order_flow:navbar-limit",function(require,exports,module){var navbarLimitFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="ui-navbar-limit">\n	<div class="loan-limit">\n		<div class="limit">'+(null==(__t=steps[currentIndex].currentLimit)?"":__t)+'</div>\n		<div class="desc">当前额度(元)</div>\n	</div>\n	<div class="steps">\n		';for(var i=0,j=steps.length;j>i;i++)__p+='\n			<div class="step ',currentIndex>=i&&(__p+="active"),__p+='">\n				<div class="num">'+(null==(__t=steps[i].limit)?"":__t)+'</div>\n				<div class="tlt">'+(null==(__t=steps[i].title)?"":__t)+"</div>\n			</div>\n			",i!=j-1&&(__p+='\n				<div class="step-line ',currentIndex>i&&(__p+="active"),__p+='"></div>\n			'),__p+="\n		";__p+="\n	</div>\n</div>"}return __p},NavBarLimit=function(i,t){var n=[{title:"个人身份",limit:3e4,currentLimit:2e4},{title:"资产信用",limit:3e4,currentLimit:5e4},{title:"补充信息",limit:2e4,currentLimit:8e4}];n.forEach(function(i,e){var r=e>t;i.limit="+"+(r?" ?":n[e].limit)}),this.steps=n,this.currentIndex=t,this._dom=$(navbarLimitFunc({steps:this.steps,currentIndex:this.currentIndex}))};module.exports=NavBarLimit});
;define("m_order_flow:navbar",function(require,exports,module){var navbarFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="ui-navbar">\n	<div class="steps">\n		',_.each(steps,function(n,_,t){__p+="\n			";var e="";__p+="\n			";var r="";__p+="\n			",_>0&&_<t.length-1&&(__p+="\n				",e="midstep",__p+="\n			"),__p+="\n\n			",currentIndex>=_&&(__p+="\n				",r="curentsteps",__p+="\n			"),__p+='\n\n			<dl class="step '+(null==(__t=e)?"":__t)+" "+(null==(__t=r)?"":__t)+'">\n				<dd>'+(null==(__t=_+1)?"":__t)+"</dd>\n				<dt>"+(null==(__t=n.title)?"":__t)+"</dt>\n			</dl>\n		"}),__p+="		\n	</div>\n</div>";return __p},NavBar=function(n,_){this.steps=n,this.currentIndex=_,this._dom=$(navbarFunc({steps:this.steps,currentIndex:this.currentIndex}))};module.exports=NavBar});
;define("m_order_flow:select",function(require,exports,module){var selectFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<!-- <div class="ui-select"> -->\n	<div class="textwrap">\n		<label>'+(null==(__t=labelText)?"":__t)+'</label>\n		<div class="selectwrap">			\n			<select class="'+(null==(__t=tag)?"":__t)+' select" name="'+(null==(__t=name)?"":__t)+'" '+(null==(__t=1==disabled?"disabled":"")?"":__t)+' >                                             \n				<option value="">请选择</option>															\n				',_.each(options,function(e){__p+="												\n					<option "+(null==(__t=e.value==defaultvalue?"selected":"")?"":__t)+' data-rely="'+(null==(__t=e.rely)?"":__t)+'" value="'+(null==(__t=e.value)?"":__t)+'">'+(null==(__t=e.desc)?"":__t)+"</option>\n				"}),__p+='\n			</select>\n			<i class="icon-option dropdown"></i>\n			',1==disabled&&(__p+="\n				<input type=hidden name='"+(null==(__t=name)?"":__t)+"' value="+(null==(__t=defaultvalue)?"":__t)+" />\n			"),__p+='\n		</div>\n	</div>\n	<div class="second-level"></div>\n<!-- </div> -->';return __p},Select=Backbone.View.extend({className:"ui-select",tagName:"div",template:selectFunc,initialize:function(e){this.type=e.type,this.labelText=e.title,this.defaultvalue=e.current_val,this.options=e.data,this.name=e.var_name||e.urlkey,this.disabled=e.disabled?e.disabled:!1,this.tag=e.tag;var t={tag:e.tag,labelText:this.labelText,options:this.options,name:this.name,defaultvalue:this.defaultvalue,disabled:this.disabled};this.$el.append($(this.template(t)))},verify:function(){var e=this.$el.find("option").not(function(){return!this.selected});if(_.isEmpty(e.attr("value"))){{new Tip("请选择"+this.labelText)}return!1}return!0},getformdata:function(){var e=this.$el.find("option").not(function(){return!this.selected});return{var_name:this.name,value:e.attr("value"),type:this.type}}});module.exports=Select});
;define("m_order_flow:sem21coupon",function(require,exports,module){var sem21couponFunc=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="cliplayer"></div>\r\n<div class="sem21couponWrap">\r\n	<div class="part11">\r\n		<img src="https://static.rong360.com/upload/png/85/54/8554d1b6111515f7f87697b97a3e015a.png" alt="" class="icon">\r\n		<div class="content">\r\n			<div class="top">老板说已经不能更便宜！</div>\r\n			<div class="middle">看到就快领吧！</div>\r\n			<div class="coupon-wrap">\r\n				<div class="coupon">\r\n					<div class="left">¥<span>100</span></div>\r\n					<div class="right">\r\n						<div class="desc-top">贷款免息券</div>\r\n						<div class="desc-bottom">还款成功后，即可获得返现</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="get-coupon">立即领取</div>\r\n		</div>\r\n		<div class="close-btn"></div>\r\n	</div>\r\n	<div class="part12">\r\n		<div class="content">\r\n			<div class="top">长按下方二维码关注“融360”公众号</div>\r\n			<div class="bottom">免息券即刻放入您的账户</div>\r\n			<img src="//static.rong360.com/upload/png/7b/a3/7ba3ca26ac11df2658a8fa91487b15e9.png" class="erweimabg">\r\n			<img class="qrcode">\r\n			<img src="//static.rong360.com/upload/png/6c/c7/6cc7350c410d5e72aeecc19ab0f26e99.png" class="logo">\r\n\r\n		</div>\r\n		<div class="close-btn"></div>\r\n	</div>\r\n</div>';return __p},Sem21coupon=Backbone.View.extend({tagName:"div",className:"view-sem21coupon",template:sem21couponFunc,initialize:function(){this.$el.append($(this.template())),$(".MiniWrap").append(this.$el);var n=$(".qrcode");n&&$.ajax({url:"/weixin/getdynamicqrcodeurl",type:"post",dataType:"json",data:{userfrom:"landing",type:"coupon"},success:function(e){n.attr("src",e.qrcode_url)},error:function(){}}),this._dom=this.$el,this.$cliplayer=this._dom.find(".cliplayer"),this.$sem21couponWrap=this._dom.find(".sem21couponWrap"),this.show()},events:{"click .part11 .close-btn":function(){$.elog({page_name:"landing_popup_test11",event_name:"page_close"}),sa.track("loan_landing_button_click",{type:"coupon_popup_close",gzh_name:"r360wx"}),this.remove()},"click .part12 .close-btn":function(){$.elog({page_name:"landing_popup_test12",event_name:"page_close"}),sa.track("loan_landing_button_click",{type:"cpnqrcode_popup_close",gzh_name:"r360wx"}),this.remove()},"click .part11 .get-coupon":function(){$(".part11").hide(),$(".part12").show(),$.log({page_name:"landing_popup_test12"}),$.elog({page_name:"landing_popup_test11",event_name:"click_receiving"}),sa.track("loan_weixin_popup",{type:"cpnqrcode_popup",from:"landing",gzh_name:"r360wx"}),sa.track("loan_landing_button_click",{type:"coupon_popup_receive",gzh_name:"r360wx"})}},show:function(){this.$el.show(),this.$cliplayer.removeClass("fadeIn").addClass("fadeIn animated").show(),this.$sem21couponWrap.removeClass("bounceInUp").addClass("bounceInUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){})},remove:function(){var n=this;this.$cliplayer.removeClass("fadeOut").addClass("fadeOut animated").show(),this.$sem21couponWrap.removeClass("bounceOutUp").addClass("bounceOutUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n._dom.remove()})}});module.exports=Sem21coupon});
;define("m_order_flow:text",function(require,exports,module){var textFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<!-- <div class="ui-input"> -->\n	<div class="textwrap">\n		<label>'+(null==(__t=lableText)?"":__t)+"</label>		\n		<input "+(null==(__t=1==readonly?"readonly":"")?"":__t)+' data-needcheck="'+(null==(__t=needCheck)?"":__t)+'" type="text" name="'+(null==(__t=name)?"":__t)+'"  value="'+(null==(__t=defaultValue)?"":__t)+'" pattern="[0-9]*"  placeholder="'+(null==(__t=placeholderText)?"":__t)+'" />	\n		<span class="unit">'+(null==(__t=unit)?"":__t)+"</span>	\n	</div>\n<!-- </div> -->";return __p},Text=Backbone.View.extend({tagName:"div",className:"ui-input",template:textFunc,initialize:function(e){var t=this;this.type="text",this.needCheck=!0,this.lableText=e.title,this.placeholderText=e.placeholderText?e.placeholderText:"请输入",this.defaultValue=e.current_val,this.name=e.var_name||e.urlkey,this.unit=e.unit,this.readonly=e.readonly?e.readonly:!1;var n={needCheck:t.needCheck,lableText:t.lableText,placeholderText:t.placeholderText,defaultValue:t.defaultValue,name:t.name,readonly:t.readonly,unit:this.unit};this.$el.append($(this.template(n))),("ID_card_number"==t.name||"ID_card_number2"==t.name||"ID_card_number3"==t.name)&&this.$el.find("input").removeAttr("pattern")},verify:function(){var e=this;if(e.emptyCheck()){if("ID_card_number"!=e.name&&"ID_card_number2"!=e.name&&"ID_card_number3"!=e.name||e.id_card_number_formate_check())return!0;{new Tip(e.lableText+"格式有误！")}return!1}new Tip(e.lableText+"不能为空！");return!1},getformdata:function(){return{var_name:this.name,value:this.$el.find("input").val(),type:this.type,title:this.lableText}},emptyCheck:function(){return!!this.$el.find("input").val()},id_card_number_formate_check:function(){var e,t,n,a,r,l=this.$el.find("input").val(),i=!1,s={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},e=l,u=new Array;if(u=e.split(""),null==s[parseInt(e.substr(0,2))])return!1;switch(e.length){case 15:i=!1;break;case 18:ereg=parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(e)?(a=7*(parseInt(u[0])+parseInt(u[10]))+9*(parseInt(u[1])+parseInt(u[11]))+10*(parseInt(u[2])+parseInt(u[12]))+5*(parseInt(u[3])+parseInt(u[13]))+8*(parseInt(u[4])+parseInt(u[14]))+4*(parseInt(u[5])+parseInt(u[15]))+2*(parseInt(u[6])+parseInt(u[16]))+1*parseInt(u[7])+6*parseInt(u[8])+3*parseInt(u[9]),t=a%11,r="F",n="10X98765432",r=n.substr(t,1),i=r.toLowerCase()==u[17].toLowerCase()?!0:!1):i=!1;break;default:i=!1}return i}});module.exports=Text});
;define("m_order_flow:tip",function(require,exports,module){var tipFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="tipwraper">\n	<div class="cliplayer">	\n		\n	</div>	\n	<div class="tipwrap">\n			<div class="tip">'+(null==(__t=text)?"":__t)+'</div>\n			<div class="tipbtn">知道了</div>	\n	</div>\n</div>\n\n\n\n\n';return __p},Tip=function(i,n){this.text=i,this.callback=n,this._dom=$(tipFunc({text:this.text})),this.$cliplayer=this._dom.find(".cliplayer"),this.$btn=this._dom.find(".tipbtn"),this.$tipwrap=this._dom.find(".tipwrap"),this.bindEvent(),$("body").append(this._dom),this.show()};Tip.prototype.bindEvent=function(){var i=this;this.$btn.on("click",function(){i.remove()})},Tip.prototype.show=function(){this._dom.show(),this.$cliplayer.removeClass("fadeIn").addClass("fadeIn animated").show(),this.$tipwrap.removeClass("bounceInUp").addClass("bounceInUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){})},Tip.prototype.remove=function(){var i=this;this.$cliplayer.removeClass("fadeOut").addClass("fadeOut animated").show(),this.$tipwrap.removeClass("bounceOutUp").addClass("bounceOutUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i._dom.remove(),_.isFunction(i.callback)&&i.callback()})},module.exports=Tip});
;define("m_order_flow:titlebar",function(require,exports,module){var titlebarFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="ui-titlebar">	\n	',backUrl&&(__p+='\n	<a class="backto" href="'+(null==(__t=backUrl)?"":__t)+'">\n		<i class="icon-back-link"></i>\n	</a>\n	'),__p+='\n	<div class="title">\n		'+(null==(__t=title)?"":__t)+"\n	</div>\n	",home_link&&(__p+='\n	<a class="home" href="//m.rong360.com/">\n		<i class="icon-home"></i>\n	</a>\n	'),__p+="\n</div>";return __p},TitleBar=function(t,i,e){this.backUrl=t,this.title=i,this._dom=$(this.checkSource()?titlebarFunc({backUrl:!1,title:this.title,home_link:!!e}):titlebarFunc({backUrl:this.backUrl,title:this.title,home_link:!!e}))};TitleBar.prototype.checkSource=function(){var t=$.cookie("__utmz"),i=t.indexOf("utmcsr");if(i>-1){var e=t.substr(i),n=e.indexOf("="),r=e.indexOf("|");if(r>-1)var l=e.substring(n+1,r);else var l=e.substring(n+1);return"weixin"==l||"wxgzh"==l?!0:!1}return!1},module.exports=TitleBar});
;define("m_order_flow:username",function(require,exports,module){var textFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<!-- <div class="ui-username"> -->\n	<div class="textwrap">\n		<label>'+(null==(__t=lableText)?"":__t)+"</label>		\n		<input "+(null==(__t=1==readonly?"readonly":"")?"":__t)+' data-needcheck="'+(null==(__t=needCheck)?"":__t)+'" type="text" name="'+(null==(__t=name)?"":__t)+'"  value="'+(null==(__t=defaultValue)?"":__t)+'"  placeholder="'+(null==(__t=placeholderText)?"":__t)+'" />	\n		<span class="unit">'+(null==(__t=unit)?"":__t)+"</span>		\n	</div>\n<!-- </div> -->";return __p},Username=Backbone.View.extend({tagName:"div",className:"ui-username",template:textFunc,initialize:function(e){var t=this;this.type="text",this.needCheck=!0,this.lableText=e.title,this.placeholderText=e.placeholderText?e.placeholderText:"请输入",this.defaultValue=e.current_val,this.name=e.var_name||e.urlkey,this.unit=e.unit,this.readonly=e.readonly?e.readonly:!1;var n={needCheck:t.needCheck,lableText:t.lableText,placeholderText:t.placeholderText,defaultValue:t.defaultValue,name:t.name,readonly:t.readonly,unit:this.unit};this.$el.append($(this.template(n)))},verify:function(){var e=this;if(e.emptyCheck()){if(e.formatecheck())return!0;{new Tip(e.lableText+"格式不正确,请重新输入")}return!1}new Tip(e.lableText+"不能为空！");return!1},formatecheck:function(){var e=this.$el.find("input").val(),t=/^[\u4e00-\u9fa5]([\u4e00-\u9fa5]{0,24}\u00b7{0,1}[\u4e00-\u9fa5]{1,24})+$/;return t.test(e)},emptyCheck:function(){return!!this.$el.find("input").val()},getformdata:function(){return{var_name:this.name,value:this.$input.val(),type:this.type,title:this.lableText}}});module.exports=Username});
;define("m_order_flow:vrmobile",function(require,exports,module){var vrMobileFunc=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="clip"></div>\r\n<div class="vrmobile">\r\n	<div class="vr-close">\r\n		<div class="line"></div>\r\n		<div class="close">×</div>\r\n	</div>\r\n	<div class="vr-head">\r\n		<p class="p1">'+(null==(__t=phone)?"":__t)+'</p>\r\n		<p class="p2">',__p+=isMobile?"联通 北京":"融360虚拟号",__p+='</p>\r\n	</div>\r\n	<div class="vr-body">\r\n		<p>信贷员将通过“虚拟号”联系您，<br>请接听哦</p>\r\n		<p>您的真实手机号已被隐藏，对方无法看到</p>\r\n	</div>\r\n</div>';return __p},vrMobile=Backbone.View.extend({tagName:"div",className:"view-vrMobile",template:vrMobileFunc,initialize:function(i){var e=i.phone;this.phone="0"==e.charAt(0)?i.phone.split("").map(function(i,e){return 3==e||7==e?"-"+i:i}).join(""):e,this.isMobile="0"==e.charAt(0)?!1:!0,this.render()},render:function(){this.$el.append($(this.template({phone:this.phone,isMobile:this.isMobile}))),$(".MiniWrap").append(this.$el)},events:{"click .close":function(){$.log({page_name:"virtual_number_alert_click"}),this.$el.remove()}}});module.exports=vrMobile});
;define("m_order_flow:weixin",function(require,exports,module){var weixinFunc=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="model"></div>\r\n<div class="weixin-wrap">\r\n	',__p+=1==options.show?'\r\n		<div class="wenan">\r\n		申请成功，关注融360官方微信，轻轻松松查询贷款审批进度\r\n		</div>\r\n		<div class="close-button guanwei">\r\n			<i class="icon-icon-close"></i>\r\n		</div>\r\n		<div class="weixin">\r\n			<img src="//static.rong360.com/upload/png/50/b6/50b6fbb82393d8e00657e303edbe2921.png" class="weixinimg">\r\n			<img class="qrcode">\r\n			<img src="//static.rong360.com/upload/png/6c/c7/6cc7350c410d5e72aeecc19ab0f26e99.png" class="logo">\r\n		</div>\r\n	':'\r\n		<div class="wenan">\r\n		关注玩钱哥，给你更多的贷款<br>口子、提额技巧！\r\n		</div>\r\n		<div class="close-button qiange">\r\n			<i class="icon-icon-close"></i>\r\n		</div>\r\n		<div class="weixin">\r\n			<img src="//static.rong360.com/upload/png/bf/4b/bf4bc3c95a7223cf30feb98a6611fbdc.png?userfrom=orderflow" alt="" class="weixinimg">\r\n		</div>\r\n	',__p+="\r\n</div>";return __p},WeiXin=Backbone.View.extend({tagName:"div",className:"view-weixin",template:weixinFunc,initialize:function(n){this.show=n,options={show:n},this.render(options),this.$model=this.$el.find(".model"),this.$weixinwrap=this.$el.find(".weixin-wrap"),this.showAnimate()},render:function(n){this.$el.append($(this.template(n))),$(".MiniWrap").append(this.$el);var i=$(".qrcode");i&&$.ajax({url:"/weixin/getdynamicqrcodeurl",type:"post",dataType:"json",data:{userfrom:"orderflow"},success:function(n){i.attr("src",n.qrcode_url)},error:function(){}})},showAnimate:function(){this.$el.show(),this.$model.removeClass("fadeIn").addClass("fadeIn animated").show(),this.$weixinwrap.removeClass("bounceInUp").addClass("bounceInUp animated").show().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){})},events:{"click .guanwei":function(){$(".model,.weixin-wrap").hide(),sa.track("loan_landing_button_click",{type:"bindqrcode_popup_close",from:"bd_order",gzh_name:"r360wx"}),$.elog({page_name:"toufang_popup_weixin_rong360",event_name:"page_close"})},"click .qiange":function(){$(".model,.weixin-wrap").hide(),sa.track("loan_landing_button_click",{type:"fixedqrcode_popup_close",from:"bd_order",gzh_name:"wanqian"}),$.elog({page_name:"weixin_test_wanqian",event_name:"page_close"})}}});module.exports=WeiXin});